var GDPRUtils,dsi18nlayer,LoginAppNext;(function(n){var t;(function(n){n.fixtureModule=angular.module("LoginAppNext.Fixture",[])})(t=n.Fixture||(n.Fixture={}))})(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.fixtureModule.constant("errorMessages",{bad_request:"We were unable to process this request, please contact support to resolve this issue.",certificate_cannot_contain_private_key:"Certificate cannot contain a private key",certificate_is_invalid:"Certificate is invalid",challenge_expired:"This authorization request to DocuSign timed out due to inactivity. Please return to the original action you were trying to perform, and start again.",challenge_federatedconsent_description:"Confirm your company credentials as your DocuSign login. From now on, use your company login to access DocuSign.",challenge_federatedconsent_mismatch_name_id:"The federated identifier for single sign-on does not match what has been enabled for this user. Please contact your DocuSign administrator.",challenge_phone_locked_out:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",challenge_phone_maxattempts_reached:"You have reached the maximum number of verification attempts allowed. You can contact the sender to resend the document.",challenge_tsv_locked_out:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",challenge_tsv_locked_out_user:"Your account has been locked out due to too many failed attempts. Please try again later.",challenge_tsv_locked_out_proof:"For security reasons, this phone number or email address has been temporarily blocked from receiving security codes. Please try again later or use a different phone number, email, or an authenticator app.",challenge_tsv_code_mismatch:"The code entered is invalid. Please try again.",challenge_tsv_service_unavailable:"We were unable to process this request. Please return to the original action you were trying to perform, and start again.",challenge_adminconsent_not_an_org_admin:"You are not an organization admin. Please contact your DocuSign Administrator.",client_id_not_found:"The client id provided is not registered with DocuSign.",company_email:"Company Email",configuration_not_found:"Configuration not found",confirm_company_login:"Confirm Company Login",default_account_is_not_active:"Your default account is not active. Please contact your administrator or DocuSign Support.",docusign:"DocuSign",domain_verification_code_does_not_match:"Domain verification code didn't match",email_required:"An email address is required.",expired_request_state:"The authorization request timed out due to inactivity. Please try again.",expired_id_verification_request_state:"This authentication session has expired. Please start from the beginning again.",hostname_specified_not_match_hostname_for_domain:"The host_name specified does not match the host_name for the specified domain id",identity_provider_is_not_configured:"Identity Provider is not configured",identity_provider_is_not_valid:"Identity Provider is not valid",identity_provider_not_found:"Identity Provider not found",internal_server_error:"DocuSign is temporarily unavailable. Please try again momentarily.",invalid_client:"The client identifier provided is not registered with DocuSign.",invalid_client_id_format:"Invalid Client Id format",invalid_email:"Invalid email address",invalid_length:"Invalid field length",invalid_forgot_password_challenge:"Invalid email and / or security code",invalid_hostname:"Invalid host name",invalid_managed_token_flow:"Invalid Managed Token ID and / or secret",invalid_password_attempt:"Invalid email and / or password",invalid_session_token:"DocuSign is unable to validate the received OAuth token",missing_assertion:"Response contained a missing or malformed assertion",missing_required_attribute:"The response assertion is missing a required attribute",no_recovery_info_found:"There was an unexpected problem during two-step verification.  Please try again.",oauth_invalid_redirect_uri:"The redirect URI supplied in the request is not in the list of valid URIs configured with this client application",organization_not_found:"Organization not found",organization_not_valid:"Organization not valid",password_has_changed_relogon:"Your password has been changed. Please login again.",privacy_policy:"Privacy Policy",proof_locked:"For security reasons, this phone number or email address has been temporarily blocked from receiving security codes. Please try again later or use a different phone number, email, or an authenticator app.",redirect_uri_no_redirect_uris_registered:"There are no redirect URIs registered with DocuSign",redirect_uri_not_provided:"The redirect or return URI was not provided",redirect_uri_not_registered:"The redirect URI is not registered properly with DocuSign",reserved_domain_is_not_found:"Reserved Domain is not found",reserved_domain_is_not_valid:"Reserved Domain is not valid",response_signature_verification_failed:"The response signature failed cryptographic validation",saml2_assertion_signature_verification_failed:"The response assertion signature failed cryptographic validation",saml2_response_deserialization_failed:"The SAML Response is invalid",saml2_response_is_not_signed:"The SAML Response is not signed",saml2_response_binding_failed:"The SAML Response is invalid",saml2_domain_not_found_in_organization:"The email address provided is not registered to your organization.  Please contact your DocuSign Administrator.",saml2_no_domains_registered_in_organization:"The email address provided is not registered to your organization.  Please contact your DocuSign Administrator.",saml2_domain_not_verified:"The ownership of the URI domain has not been verified",saml2_expired_assertion:"The SAML response has expired.",saml2_expired_signing_certificate:"Signing certificate is expired",saml2_idp_mismatch:"The received name identifier does not match the configured name for your Identity Provider",saml2_idp_not_trusted:"The issuing Identity Provider is not registered with DocuSign",saml2_invalid_attribute_value:"The SAML response contained an invalid attribute",saml2_invalid_login:"Invalid Login",saml2_missing_accountid:"The Account ID is missing. Please contact your DocuSign Administrator.",saml2_missing_permissionprofileid:"The Permission Profile ID is missing. Please contact your DocuSign Administrator",saml2_default_account_not_found:"The specified Account is not registered to your organization. Please contact your DocuSign Administrator.",saml2_accountid_claim_empty:"The Account ID attribute value is invalid. Please contact your DocuSign Administrator.",saml2_permissionprofileid_claim_empty:"The Permission Profile ID attribute value is invalid. Please contact your DocuSign Administrator.",saml2_no_users_found:"Invalid Login",saml2_unable_to_add_membership:"Invalid Login",saml2_unable_to_add_user:"Invalid Login",saml2_missing_certificate:"Certificate missing from response",saml2_missing_name_id:"The SAML response is missing a unique name identifier in the assertion. Please contact your DocuSign Administrator.",saml2_nameid_claim_empty:"The SAML response is missing a unique name identifier in the assertion. Please contact your DocuSign Administrator.",saml2_multiple_signing_certificates:"Multiple signing certificates received in response",saml2_no_assertions:"There is a problem with response from your identity provider. Please contact your administrator for help.",saml2_no_protected_assertions_and_message_isnt_signed:"The SAML response is not cryptographically signed",saml2_org_idp_mismatch:"The received Organization Id does not match the configured organization for your Identity Provider ",saml2_original_sso_account:"There is no configured DocuSign account corresponding to this SAML response.",security_code_template_add_recovery_info_sms:"New security information has been added to your account. Use this code to confirm: {0}",security_code_template_add_recovery_info_voice:"New security information has been added to your account. Use this code to confirm: {0}",security_code_template_sms:"Your DocuSign security code is {0}",security_code_template_voice:"Your DocuSign security code is {0}",server_error:"DocuSign is temporarily unavailable. Please try again momentarily.",specified_certificate_does_not_belong_to_idp:"The specified Certificate does not belong to the specified Identity Provider",specified_reserved_domain_does_not_belong_to_org:"The specified Reserved Domain does not belong to the specified Organization",sqsa_invalid_answers:"The following answers are not correct: [[questionList]]",sqsa_user_locked:"Your account has been locked out due to too many failed attempts. Please try again in an hour.",the_specified_identity_provider_does_not_belong_to_the_specified_domain:"The specified Identity Provider does not belong to the specified Domain",the_specified_identity_provider_does_not_belong_to_the_specified_organization:"The specified Identity Provider does not belong to the specified Organization",unexpected_settings_object_found:"Unexpected settings object found",unsupported_response_type:"Invalid authentication request: The response type is not supported.",idp_unexpected_settings_object_found:"Unexpected settings object found",user_is_not_active:"Check for an account activation email or ask your admin to resend the activation email.",user_locked:"Your account has been locked out due to too many failed attempts. Please try again later.",user_not_found:"The user is not found in DocuSign",signup_missing_distributor_code:"The distributor code is missing.",signup_unauthorized_distributor_code:"The distributor is not authorized for this plan.",signup_missing_plan_id:"The plan ID is missing.",signup_missing_region:"The region is missing.",signup_invalid_region:"The region is invalid.",signup_invalid_referrer:"The referrer is invalid.",signup_invalid_invite_token:"Invitation not valid.",signup_forename_required:"First name required.",signup_surname_required:"Last name required.",signup_activation_password_required:"Password required.",signup_activation_password_match_required:"Passwords must match.",signup_invalid_freetrial:"User already has a Free Trial account.",invalid_claim_response:"An unexpected error occurred in obtaining the requested external claims.",userinvite_invalid_token:"Token reissue required",invalid_status:"The status is invalid",userinvite_not_found:"The user invite was not found",userinvite_already_exists:"A user invite already exists for email and user invite type",userinvite_unmanaged_membership_not_allowed:"Prevent unmanaged sign-ups when the domain and the account are not in the same organization",userinvite_account_not_found:"The target account was not found",userinvite_account_not_active:"The target account was not found",userinvite_user_not_found:"The target user was not found",userinvite_invalid_use_selection:"The target user does not belong to invited email",userinvite_membership_already_exists:"The email is already a member of the target account",userinvite_bad_request:"There was an unknown error",password_validation_complexity:"The password does not meet complexity requirements.",password_validation_question_count:"Not enough password questions supplied to meet the policy.",password_validation_question_repeat:"Cannot use the same password question or answer twice."})})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.fixtureModule.constant("fixture",fixture)})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.challengeModule=angular.module("LoginAppNext.Challenges",["ui.router","LoginAppNext.Fixture","LoginAppNext.Layout","LoginAppNext.PhoneNumber"])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.fixture=n;this.isPresent=angular.isObject(n.state_data);angular.isObject(n.state_data)&&(this.flowToken=n.state_data.flow_token,this.name=n.state_data.action,this.data=n.state_data.data,this.state=n.state_data.state,this.submissionUri=n.state_data.submission_uri)}return n.prototype.updateStateData=function(n,t){angular.isObject(this.fixture.state_data)&&angular.isObject(this.fixture.state_data.data)&&(angular.isDefined(t)?this.fixture.state_data.data[n]=t:delete this.fixture.state_data.data[n]);this.data=this.fixture.state_data.data},n}();n.challengeModule.service("challenge",["fixture",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var i=function(){function n(){}return n}(),t;n.Scope=i;t=function(){function n(n,t,i,r){this.id=n;this.displayOrder=t;this.short=i;this.long=r}return n}();n.ScopeDescription=t;n.scopeDescriptions=[new t(-1,4,"Rooms","Create and read DocuSign Rooms. Upload and download new content from a room."),new t(1,1,"Signature","Create and send envelopes. Obtain links for starting signing sessions."),new t(2,3,"User Information","Obtain user information (e.g. email address)."),new t(4,5,"Digital Signatures","Read and apply digital signatures to documents during signing."),new t(5,2,"Signature","Create and send envelopes. Obtain links for starting signing sessions."),new t(8,6,"Digital Signatures","Read document content during digital signing."),new t(6,7,"DocuSign for Real Estate","Create and read documents in DocuSign for Real Estate."),new t(7,8,"DocuSign for Real Estate","Sign in to DocuSign for Real Estate on the web."),new t(9,9,"DocuSign for Real Estate","Sign in to DocuSign for Real Estate on the web."),new t(10,10,"Offline access","This application will be permitted to request access to your account for an extended period of time."),new t(11,11,"View Documents","Read documents from DocuSign Transaction Rooms."),new t(12,12,"Add Documents","Write documents to DocuSign Transaction Rooms."),new t(13,13,"View Transaction Rooms","Read room information from DocuSign Transaction Rooms."),new t(14,14,"Manage Transaction Rooms","Manage transaction rooms, approvals and associated data DocuSign Transaction Rooms."),new t(15,15,"View Company Settings","Read company level settings and information from DocuSign Transaction Rooms."),new t(16,16,"Update Company Settings","Update company level settings and information from DocuSign Transaction Rooms."),new t(17,17,"View Profile Data","Read user information from DocuSign Transaction Rooms."),new t(18,18,"Update Profile Data","Write user information to DocuSign Transaction Rooms."),new t(29,19,"Offline access","This application will be permitted to request access to your account without you being present."),new t(62,20,"Read Products","Understand which products you have purchased."),new t(63,21,"Activate Products","Activate new products on your behalf.")]})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(n,t,i,r,u){var f=r.data;angular.isObject(f.error)?this.error={message:u[f.error.ResourceKey],data:f.error.Data}:this.createUIModel(n,t,f)}return t.prototype.createUIModel=function(t,r,u){var e={},o;angular.forEach(n.scopeDescriptions,function(n){e[n.id]=n});var s=u.requested_scopes,h=u.organization_isConsented,c=u.organization_name_ids,f=[];angular.forEach(s,function(n){var t=e[n.Value];angular.isUndefined(t)||f.push(t)});f.length===0&&f.push(e[5]);o=new i(t,r,u.app_name,u.user_email,f,h,c,u.privacy_policy,u.terms_of_use);this.data=o},t}(),i=function(){function n(n,t,i,r,u,f,e,o,s){var h,c;this.hasPrivacyPolicy=!1;this.hasTermsPolicy=!1;this.app_name=i;this.user_email=r;this.requested_scopes=u;this.organization_consent_checks_isModified={};for(h in f)f.hasOwnProperty(h)&&(this.organization_consent_checks_isModified[h]=!1);this.organization_isConsented=f;this.organization_name_ids=e;c=t.instant("Link opens in new window");!angular.isUndefined(o)&&angular.isString(o)&&o.length>0?(this.hasPrivacyPolicy=!0,this.privacyPolicyStartTag="<a href='"+n.encodeURI(o)+"' title='"+c+"' target='_blank'>",this.privacyPolicyEndTag="<\/a>"):(this.privacyPolicyStartTag="",this.privacyPolicyEndTag="");!angular.isUndefined(s)&&angular.isString(s)&&s.length>0?(this.hasTermsPolicy=!0,this.termsPolicyStartTag="<a href='"+n.encodeURI(s)+"' title='"+c+"' target='_blank'>",this.termsPolicyEndTag="<\/a>"):(this.termsPolicyStartTag="",this.termsPolicyEndTag="")}return n.prototype.toggleSelectedOg=function(n){this.organization_consent_checks_isModified[n]=!0;this.organization_isConsented[n]=!this.organization_isConsented[n]},n}();n.challengeModule.controller("AdminConsent",["$window","$translate","fixture","challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.challengeModule.constant("challengeSupportedStates",{"activation-required":{name:"authenticate.challenge.activation-required",url:"/activation-required"},appconsent:{name:"authenticate.challenge.appconsent",url:"/appconsent"},adminconsentpolicy:{name:"authenticate.challenge.adminconsentpolicy",url:"/adminconsentpolicy"},domainloginrestrictionpolicy:{name:"authenticate.challenge.domainloginrestrictionpolicy",url:"/domainloginrestrictionpolicy"},challenge:{name:"authenticate.challenge",url:"/challenge"},federalapplicationpolicy:{name:"authenticate.challenge.federalapplicationpolicy",url:"/federalapplicationpolicy"},federateduserchangeemailpolicy:{name:"authenticate.challenge.federateduserchangeemailpolicy",url:"/federateduserchangeemailpolicy"},federationconsentpolicy:{name:"authenticate.challenge.federationconsentpolicy",url:"/federationconsentpolicy"},forcepassword:{name:"authenticate.challenge.forcepassword",url:"/forcepassword"},"forgot-password-first-proof":{name:"authenticate.challenge.two-step-verification.forgotpassword",url:"/forgot-password"},"phone-verification":{name:"authenticate.challenge.phone-verification",url:"/phone-verification"},"secret-questions-secret-answer":{name:"authenticate.challenge.secret-questions-secret-answer",url:"/secret-questions"},"two-step-verification":{name:"authenticate.challenge.two-step-verification",url:"/two-step-verification"},"two-step-verification-select-phone-option":{name:"authenticate.challenge.two-step-verification.select-phone-option",url:"/select-phone-option"},"two-step-verification-authenticator-app-verify-code":{name:"authenticate.challenge.two-step-verification.authenticator-app-verify-code",url:"/authenticator-app-verify-code"},"two-step-verification-select-proof":{name:"authenticate.challenge.two-step-verification.select-proof",url:"/select-proof"},"two-step-verification-verify-code":{name:"authenticate.challenge.two-step-verification.verify-code",url:"/verify-code"},"two-step-verification-error-view":{name:"authenticate.challenge.two-step-verification.error-view",url:"/error-view"},"two-step-verification-bootstrap":{name:"authenticate.challenge.two-step-verification.bootstrap",url:"/bootstrap"},userselection:{name:"authenticate.challenge.user selection",url:"/user-selection"}})})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var i=function(){function n(n,i){var r=i.data;switch(r.Error){case t.OrganizationNotFound:this.error_message=n.instant("Your IT department has incorrectly configured your network proxy settings. Please contact your IT department to report this issue. ");break;default:this.error_message=n.instant("Your IT department has blocked access to personal DocuSign accounts on this network. If this is incorrect, please contact your IT department to address the issue. ")}}return n}(),t;(function(n){n[n.OrganizationNotFound=0]="OrganizationNotFound";n[n.InvalidUserDomain=1]="InvalidUserDomain"})(t||(t={}));n.challengeModule.controller("DomainLoginRestriction",["$translate","challenge",i])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i,u,r;if(this.challengeState=n,this.errorMessages=t,this.sqsaData=n.data,this.sqsaData.is_locked_out)this.error={message:t.sqsa_user_locked,data:null};else if(angular.isArray(this.sqsaData.failed_answer_indices)&&this.sqsaData.failed_answer_indices.length>0){for(this.sqsaData.failed_answer_indices.sort(),i="",u=this.sqsaData.failed_answer_indices.length-1,r=0;r<u;++r)i+="#"+this.sqsaData.failed_answer_indices[r]+", ";i+="#"+this.sqsaData.failed_answer_indices[u];this.error={message:t.sqsa_invalid_answers,data:{questionList:i}}}}return n}();n.challengeModule.controller("SecretQuestionsController",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(t,i){this.$rootScope=t;this.twoFactorAuthService=i;this.isSending=!1;this.canSubmitCode=!0;(this.twoFactorAuthService.proofData.proof_list.length!==1||this.twoFactorAuthService.proofData.proof_list[0].type!==n.RecoveryInfoTypes.email)&&(this.twoFactorAuthService.proofError={message:"We are unable to confirm an email address.",data:this.twoFactorAuthService.proofData.proof_list},this.canSubmitCode=!1);this.twoFactorAuthService.setCurrentFactor(this.twoFactorAuthService.proofData.proof_list[0].id)}return t.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={isForgotPassword:!0,successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSentEmail"})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},t}();n.challengeModule.controller("ForgotPassword",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.challengeService=n;this.$state=t;this.challengeSupportedStates=i;this.twoFactorAuthService=r;this.userHasOnlyOneProof=this.twoFactorAuthService.proofData.proof_list.length===1}return n.prototype.changeSendOptions=function(){this.challengeService.updateStateData("error",null);this.challengeService.updateStateData("selected_channel_type",null);this.challengeService.updateStateData("selected_proof_id",null);this.$state.go(this.challengeSupportedStates["two-step-verification-select-proof"].name)},n}();n.challengeModule.controller("ChangeSendOptions",["challenge","$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.$state=n;this.challengeSupportedStates=t;this.twoFactorAuthService=i;this.isSending=!1;this.isVoiceEnabled=!1;angular.isObject(this.twoFactorAuthService.selectedFactor)&&angular.isDefined(this.twoFactorAuthService.selectedFactor.is_voice_enabled)&&(this.isVoiceEnabled=this.twoFactorAuthService.selectedFactor.is_voice_enabled)}return n.prototype.sendPhoneCode=function(){var n=this,t;this.isSending=!0;t={successCallback:function(){n.$state.go(n.challengeSupportedStates["two-step-verification-verify-code"].name,{factorId:n.twoFactorAuthService.selectedFactor.id})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},n}();n.challengeModule.controller("PhoneOptions",["$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n}return n}();n.challengeModule.controller("AuthAppVerifyCode",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(t,i){this.$rootScope=t;this.twoFactorAuthService=i;this.isSending=!1;this.canSubmitCode=!0;(this.twoFactorAuthService.proofData.proof_list.length!==1||this.twoFactorAuthService.proofData.proof_list[0].type!==n.RecoveryInfoTypes.email)&&(this.twoFactorAuthService.proofError={message:"We are unable to confirm an email address.",data:this.twoFactorAuthService.proofData.proof_list},this.canSubmitCode=!1);this.twoFactorAuthService.setCurrentFactor(this.twoFactorAuthService.proofData.proof_list[0].id)}return t.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={isBootstrapProof:!0,successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSentEmail"})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},t}();n.challengeModule.controller("BootstrapTwoFactorAuth",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n;this.canUseDifferentProof=!1;this.localError=n.proofError;this.canUseDifferentProof=n.canRetryWithDifferentProof(this.localError.resourceKey);this.canUseDifferentProof&&(n.proofError=null)}return n}();n.challengeModule.controller("TwoFactorAuthError",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.twoFactorAuthService=n}return n}();n.challengeModule.controller("VerifyCodeForm",["TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.$rootScope=n;this.twoFactorAuthService=t;this.isSending=!1}return n.prototype.resendCode=function(){var n=this,t;this.isSending=!0;t={successCallback:function(){n.$rootScope.$emit("showNotification",{id:"codeSent"+n.twoFactorAuthService.getCurrentChannelType()})},finallyCallback:function(){n.isSending=!1}};this.twoFactorAuthService.sendCode(t)},n}();n.challengeModule.controller("VerifyCode",["$rootScope","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(n,t,i){this.$state=n;this.challengeSupportedStates=t;this.twoFactorAuthService=i;this.isSending=!1}return t.prototype.selectOption=function(t){var i=this,r;this.twoFactorAuthService.setCurrentFactor(t.id);t.type===n.RecoveryInfoTypes.phone?this.$state.go(this.challengeSupportedStates["two-step-verification-select-phone-option"].name):t.type===n.RecoveryInfoTypes.authenticatorApp?this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name):(this.isSending=!0,r={successCallback:function(){i.$state.go(i.challengeSupportedStates["two-step-verification-verify-code"].name)},finallyCallback:function(){i.isSending=!1}},this.twoFactorAuthService.sendCode(r))},t}();n.challengeModule.controller("SelectProof",["$state","challengeSupportedStates","TwoFactorAuthService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={}));GDPRUtils=function(){function n(){}return n.prototype.getCountryCodeFromLang=function(n){var t=document.getElementsByTagName("html")[0].lang;switch(t){case"en":return n==="US"?"US":"default";case"en-GB":case"en_GB":return"GB";case"fr":case"fr-CA":case"fr_CA":return"FR";case"ja":return"JP";case"de":return"DE";case"pt-BR":case"pt_BR":case"pt":return"BR";case"es":return"ES";case"es-MX":case"es_MX":return"MX";default:return"default"}},n.prototype.fullCountryNametoISO2=function(n,t){for(var i in t)if(i===n)return i;return null},n}(),function(n){var t;(function(n){n.fixtureModule.constant("gdprMessages",{subscribe_default:"I agree to receive marketing communications and promotional offers from DocuSign.",subscribe_GB:"I agree to receive marketing communications and promotional offers from DocuSign.",subscribe_FR:"J’accepte de recevoir des messages marketing et des offres promotionnelles de la part de DocuSign.",subscribe_JP:"私はDocuSignからマーケティング・コミュニケーションおよびプロモーショナル・オファーを受領することに同意します。",subscribe_DE:"Ich bin damit einverstanden, von DocuSign Marketingmitteilungen und Werbeangebote zu erhalten.",subscribe_BR:"Eu concordo em receber comunicações de marketing e ofertas promocionais da DocuSign.",subscribe_ES:"Acepto recibir comunicaciones de publicidad (marketing) y ofertas promocionales de DocuSign",subscribe_MX:"Acepto recibir comunicaciones de publicidad (marketing) y ofertas promocionales de DocuSign.",agreement_default:"By clicking the ‘ACTIVATE’ button below, you accept the [[terms]] and acknowledge that your data will be used as described in the  DocuSign [[privacy]].",agreement_US:"By clicking the ‘ACTIVATE’ button, you agree to the [[terms]] and [[privacy]].",agreement_GB:"By clicking the ‘ACTIVATE’ button, you agree to the [[terms]] and [[privacy]].",agreement_FR:"En cliquant sur le bouton ‘ACTIVER’, vous acceptez nos [[terms]] et reconnaissez que vos données seront utilisées conformément à ce qui est décrit dans notre [[privacy]].",agreement_JP:"以下の「ACTIVATE」[申し込む]ボタンをクリックされた場合は、お客様はご[[terms]]に同意されたものとなり、お客様のデータがDocuSign[[privacy]]に記載されるとおり利用されることを了承されたものといたします",agreement_DE:"Durch Klicken auf die Schaltfläche ‘AKTIVIEREN’ akzeptieren Sie die [[terms]] und erkennen an, dass Ihre Daten wie in den [[privacy]] von DocuSign beschrieben verwendet werden.",agreement_BR:"Ao clicar no botão ‘ATIVAR’ abaixo, você aceita os [[terms]] e reconhece que seus dados serão utilizados conforme descrito na [[privacy]] da DocuSign.",agreement_ES:"Al hacer clic en el botón ‘ACTIVAR’, que se muestra a continuación, usted acepta los [[terms]] y reconoce que sus datos personales serán tratados de acuerdo con la [[privacy]] de DocuSign.",agreement_MX:"Al hacer clic en el botón ‘ACTIVAR’, que se muestra a continuación, usted acepta los [[terms]] y reconoce que sus datos personales serán tratados de acuerdo con la [[privacy]] de DocuSign.",privacy_policy_link_default:"https://www.docusign.com/company/privacy-policy",privacy_policy_link_US:"https://www.docusign.com/company/privacy-policy",privacy_policy_link_FR:"https://www.docusign.fr/societe/politique-de-confidentialite",privacy_policy_link_GB:"https://www.docusign.co.uk/company/privacy-policy",privacy_policy_link_JP:"https://www.docusign.jp/company/privacy-policy",privacy_policy_link_DE:"https://www.docusign.de/unternehmen/datenschutz",privacy_policy_link_BR:"https://www.docusign.com.br/politica-de-privacidade",privacy_policy_link_ES:"https://www.docusign.es/empresa/politica-de-privacidad",privacy_policy_link_MX:"https://www.docusign.mx/compania/politica-de-privacidad",privacy_policy_link_AU:"https://www.docusign.com.au/company/privacy-policy",privacy_policy_default:"Privacy Policy",privacy_policy_US:"Privacy Policy",privacy_policy_FR:"Politique de Confidentialité",privacy_policy_JP:"プライバシーポリシー",privacy_policy_DE:"Datenschutzrichtlinien",privacy_policy_BR:"Política de Privacidade",privacy_policy_ES:"Política de Privacidad",privacy_policy_MX:"Política de Privacidad",privacy_policy_GB:"Privacy Policy",terms_and_conditions_link_default:"https://www.docusign.com/company/terms-and-conditions/web",terms_and_conditions_link_US:"https://www.docusign.com/company/terms-and-conditions/web",terms_and_conditions_link_CA:"https://www.docusign.ca/company/terms-and-conditions/web",terms_and_conditions_link_FR:"https://www.docusign.fr/conditions-generales-d-utilisation",terms_and_conditions_link_GB:"https://www.docusign.co.uk/company/terms-and-conditions/web",terms_and_conditions_link_JP:"https://www.docusign.jp/company/terms-and-conditions/web",terms_and_conditions_link_DE:"https://www.docusign.de/unternehmen/agb",terms_and_conditions_link_BR:"https://www.docusign.com.br/termos-uso",terms_and_conditions_link_ES:"https://www.docusign.es/empresa/condiciones-de-uso/web",terms_and_conditions_link_MX:"https://www.docusign.mx/compania/condiciones-de-uso/web",terms_and_conditions_link_AU:"https://www.docusign.com.au/company/terms-and-conditions/web",terms_and_conditions_default:"Terms & Conditions",terms_and_conditions_US:"Terms & Conditions",terms_and_conditions_GB:"Terms & Conditions",terms_and_conditions_FR:"Conditions Générales",terms_and_conditions_JP:"利用規約",terms_and_conditions_DE:"Allgemeinen Geschäftsbedingungen",terms_and_conditions_BR:"Termos & Condições",terms_and_conditions_ES:"Términos y Condiciones",terms_and_conditions_MX:"Términos y Condiciones"});n.fixtureModule.constant("countryCodes",{AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BQ:"Bonaire, Saint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote d'Ivoire",HR:" Croatia",CU:"Cuba",CW:"Curacao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",XK:"Kosovo"})})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.fixtureModule.constant("passwordRules",{minimum_length:"Must be at least [[length]] characters long.",requires_upper_case:"Must contain at least one uppercase letter.",requires_lower_case:"Must contain at least one lowercase letter.",requires_number:"Must contain at least one number.",requires_special_character:"Must contain at least one special character.",requires_number_or_special_character:"Must contain at least one number or special character."})})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.inviteModule=angular.module("LoginAppNext.Invite",["ui.router","LoginAppNext.Fixture","LoginAppNext.Layout"])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.is_standardized_help_text=n.IsStandardizedHelpText;this.help_text=n.HelpText;this.questions_minimum=n.QuestionsMinimum;this.length_minimum=n.LengthMinimum;this.complexity_rules=n.ComplexityRules}return n}(),i=function(){function n(n,i){var r=n.state_data;this.isPresent=angular.isObject(r);this.isPresent&&(this.loginUri=r.login_uri,this.data=r.data,this.submissionUri=r.submission_uri,this.state=r.state,r.password_requirements&&(this.passwordRequirements=new t(r.password_requirements)),r.forgot_password_questions&&(this.forgotPasswordQuestions=r.forgot_password_questions));n.state==="invite"&&angular.isObject(r)&&angular.isString(r.state)&&!angular.isUndefined(i[r.state])&&(this.currentState=i[r.state])}return n}();n.inviteModule.service("inviteService",["fixture","inviteSupportedStates",i])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){angular.isDefined(t.data)&&(n.lang=i.use())}return n}();n.inviteModule.controller("ActivateError",["$scope","inviteService","$translate",t])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){if(angular.isDefined(t.data)){var r=t.data;n.email=r.email;n.available=r.users;n.lang=i.use();this.selectedUser=null}}return n}();n.inviteModule.controller("ActivateSelectUser",["$scope","inviteService","$translate",t])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){this.$scope=n;this.inviteService=t;this.$translate=i;this.gdprMessages=r;this.countryCodes=u;this.errorMessages=f;this.$sce=e;this.subscribeChecked=!1;angular.isDefined(t.data)&&(n.email=t.data.email,n.given_name=t.data.given_name,n.family_name=t.data.family_name,n.lang=i.use());this.countryList=u}return n.prototype.validateAndSubmit=function(){if(this.activate_account.$valid)if(this.error=null,this.password!==this.password_confirm)this.error={message:this.errorMessages.signup_activation_password_match_required,data:null},this.submitted=!1;else{this.submitted=!0;var n=document.getElementById("activate_account");n.submit()}},n.prototype.displayLocalizedOptIn=function(){var n=this.fullCountryNametoISO2(this.selectedCountry),t=this.getCountryCodeFromLang(n),i=document.getElementById("subscribe"),r=document.getElementById("subscribed");if(n==null){this.localizedText=null;return}n==="US"?(i.style.visibility="hidden",this.subscribeChecked=r.checked=!0):n==="DE"?(i.style.visibility="visible",this.subscribeChecked=r.checked=!1):(i.style.visibility="visible",this.subscribeChecked=r.checked=!0);this.subscribeText=this.gdprMessages["subscribe_"+t];var u=this.gdprMessages["agreement_"+t],f=this.localizeLink("terms_and_conditions_link_",n),e=this.gdprMessages["terms_and_conditions_"+t],o=u.replace("[[terms]]",this.buildLinkElement(f,e)),s=this.localizeLink("privacy_policy_link_",n),h=this.gdprMessages["privacy_policy_"+t],c=o.replace("[[privacy]]",this.buildLinkElement(s,h));this.localizedText=this.$sce.trustAsHtml(c)},n.prototype.fullCountryNametoISO2=function(n){for(var t in this.countryList)if(t===n)return t;return null},n.prototype.updateSubscribeCheckedAttr=function(n){var t=n.target;this.subscribeChecked=t.checked?!0:!1},n.prototype.buildLinkElement=function(n,t){var i=this.$translate.instant("Link opens in new window");return'<a class="item" target="_blank" title="'+i+'" href="'+n+'">'+t+"<\/a>"},n.prototype.getCountryCodeFromLang=function(n){var t=document.getElementsByTagName("html")[0].lang;switch(t){case"en":return n==="US"?"US":"default";case"en-GB":case"en_GB":return"GB";case"fr":case"fr-CA":case"fr_CA":return"FR";case"ja":return"JP";case"de":return"DE";case"pt-BR":case"pt_BR":case"pt":return"BR";case"es":return"ES";case"es-MX":case"es_MX":return"MX";case"nl":return"NL";default:return"default"}},n.prototype.localizeLink=function(n,t){var i=this.gdprMessages[n+t];return i==null?this.gdprMessages[n+"default"]:i},n.prototype.showGDPRFields=function(){return this.countryList!=null?!0:!1},n}();n.inviteModule.controller("ActivateAccount",["$scope","inviteService","$translate","gdprMessages","countryCodes","errorMessages","$sce",t])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(){}return n}(),i=4,r=function(){function n(n,r,u,f,e){if(this.passwordRules=f,this.errorMessages=e,this.questionAndAnswerPair=[],angular.isDefined(r.data)&&(n.email=r.data.email,n.forename=r.data.forename,n.surname=r.data.surname,n.account_name=r.data.account_name,n.username=r.data.username,n.lang=u.use(),this.disablePasswordEntry=r.data.is_federated_user===!0),angular.isDefined(r.passwordRequirements)?(n.help_text=r.passwordRequirements.help_text,this.isStandardizedHelpText=r.passwordRequirements.is_standardized_help_text,this.complexityRules=r.passwordRequirements.complexity_rules,this.lengthMinimum=r.passwordRequirements.length_minimum):n.help_text=["Must be at least 6 characters long and may not contain spaces or the &#60; or &#62; characters."],angular.isDefined(r.forgotPasswordQuestions)){for(var o=0;o<i;o++)this.questionAndAnswerPair.push(new t);this.forgotPasswordQuestions=r.forgotPasswordQuestions;n.questions_minimum=this.questionsMinimum=this.questionsDisplayedCount=r.passwordRequirements.questions_minimum;this.showQuestions=n.questions_minimum>0}}return n.prototype.validateAndSubmit=function(){this.error=null;this.validateEntries()?this.submitData():this.submitted=!1},n.prototype.submitData=function(){var t=this.questionAndAnswerPair.filter(function(n){return angular.isString(n.Question)&&angular.isString(n.Answer)?!0:!1}),n,i;t.length>0&&(n=document.createElement("input"),n.type="hidden",n.name="question_answer_pairs",n.value=angular.toJson(t),document.getElementById("activateNewUser").appendChild(n));this.submitted=!0;i=document.getElementById("activateNewUser");i.submit()},n.prototype.addQuestion=function(){++this.questionsDisplayedCount},n.prototype.removeQuestion=function(){this.questionsDisplayedCount>0&&this.questionsDisplayedCount>this.questionsMinimum&&--this.questionsDisplayedCount},n.prototype.canRemoveQuestion=function(n){var t=n+1;return t>0&&t>this.questionsMinimum&&t===this.questionsDisplayedCount},n.prototype.validateEntries=function(){var n=!0;return this.doesPasswordMeetComplexityRequirements(this.password)?this.questionsMinimum>this.questionsDisplayedCount?(this.error={message:this.errorMessages.password_validation_question_count,data:null},n=!1):this.verifyQuestions()||(this.error={message:this.errorMessages.password_validation_question_repeat,data:null},n=!1):(this.error={message:this.errorMessages.password_validation_complexity,data:null},n=!1),n},n.prototype.doesPasswordMeetComplexityRequirements=function(n){var i=!0,t,r;if(angular.isArray(this.complexityRules))for(t=0;t<this.complexityRules.length;++t)if(r=new RegExp(this.complexityRules[t]),!r.test(n)){i=!1;break}return i},n.prototype.verifyQuestions=function(){var n=angular.copy(this.questionAndAnswerPair).filter(function(n){return n.Question!==undefined}),t=n.map(function(n){return n.Question}),r=t.some(function(n,i){return t.indexOf(n)!==i}),i=n.map(function(n){return n.Answer}),u=i.some(function(n,t){return i.indexOf(n)!==t});return!r&&!u},n}();n.inviteModule.controller("ActivateUser",["$scope","inviteService","$translate","passwordRules","errorMessages",r])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.inviteModule.constant("inviteSupportedStates",{root:{name:"authenticate.invite",url:""},activate_user:{name:"authenticate.invite.activate-user",url:"/activate-user"},activate_new_user:{name:"authenticate.invite.activate-new-user",url:"/activate-new-user"},activate_select_user:{name:"authenticate.invite.activate-select-user",url:"/activate-select-user"},activate_error:{name:"authenticate.invite.activate-error",url:"/activate-error"},activate_account:{name:"authenticate.invite.activate-account",url:"/activate-account"}})})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function i(n,i){return{restrict:"A",scope:!1,require:"ngModel",link:function(r,u,f,e){angular.isObject(e)&&angular.isObject(e.$validators)&&(e.$validators.matchFieldValidator=function(r,o){var c,s,h;if(angular.isDefined(r)&&angular.isDefined(o)){if(c=document.getElementById(f.matchFieldValidator),s=u[0],!angular.isElement(c)){i.generateClientScriptError("matchFieldValidator missing element","Unable to find matching element with the provided ID: '"+f.matchFieldValidator+"'","matchFieldValidator");return}return o!==c.value?(e.$setValidity("matchFieldValidator",!1),h=s.attributes[t],angular.isObject(h)&&angular.isString(h.value)?s.validationMessage!==h.value&&(angular.isFunction(s.setCustomValidity)&&s.setCustomValidity(h.value),n.$emit("validationMessageChange",{id:s.id,message:h.value})):i.generateClientScriptError("matchFieldValidator missing message","Developer did not provide "+t+" attribute or provided a blank value.","matchFieldValidatorDirective"),undefined):(e.$setValidity("matchFieldValidator",!0),n.$emit("validationMessageChange",{id:s.id,message:""}),angular.isFunction(s.setCustomValidity)&&s.setCustomValidity(""),!0)}})}}}var t="field-mismatch-message";n.inviteModule.directive("matchFieldValidator",["$rootScope","clientErrorService",i])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.inviteModule.config(["$stateProvider","inviteSupportedStates",function(n,t){n.state(t.root.name,{url:t.root.url,abstract:!0}).state(t.activate_user.name,{title:"Activate Your Account",url:t.activate_user.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/invite/activate-user.html"}}}).state(t.activate_new_user.name,{title:"Activate Your Account",url:t.activate_new_user.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/invite/activate-new-user.html"}}}).state(t.activate_select_user.name,{title:"Select your user",url:t.activate_select_user.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/invite/activate-select-user.html"}}}).state(t.activate_error.name,{title:"Invitation error",url:t.activate_error.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/invite/activate-error.html"}}}).state(t.activate_account.name,{title:"Activate your account",url:t.activate_account.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/invite/activate-account.html"}}})}])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i){var r=n.submissionUri;i.attr("action",r)}}}n.inviteModule.directive("inviteSubmission",["inviteService",t])})(t=n.Invite||(n.Invite={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.localeModule=angular.module("LoginAppNext.Locale",[])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){"use strict";var t=function(){function n(){this.sending={en:{englishLanguageName:"English",languageName:"English"},zh_CN:{englishLanguageName:"Chinese Simplified",languageName:"中文(简体)"},zh_TW:{englishLanguageName:"Chinese Traditional",languageName:"中文(繁体)"},nl:{englishLanguageName:"Dutch",languageName:"Nederlands"},fr:{englishLanguageName:"French",languageName:"Français"},de:{englishLanguageName:"German",languageName:"Deutsch"},it:{englishLanguageName:"Italian",languageName:"Italiano"},ja:{englishLanguageName:"Japanese",languageName:"日本語"},ko:{englishLanguageName:"Korean",languageName:"한국어"},pt_BR:{englishLanguageName:"Portugese (Brazil)",languageName:"Português (Brasil)"},pt:{englishLanguageName:"Portugese (Portugese)",languageName:"Português (Portugal)"},ru:{englishLanguageName:"Russian",languageName:"Русский"},es:{englishLanguageName:"Spanish",languageName:"Español"}};this.signing={ar:{languageName:"العربية‏",englishLanguageName:"Arabic",isRightToLeft:!0},bg:{languageName:"Български",englishLanguageName:"Bulgarian"},cs:{languageName:"Čeština",englishLanguageName:"Czech"},zh_CN:{languageName:"中文 (简体)",englishLanguageName:"Simplified Chinese"},zh_TW:{languageName:"中文 (繁体)",englishLanguageName:"Traditional Chinese"},hr:{languageName:"Hrvatski",englishLanguageName:"Croatian"},da:{languageName:"Dansk",englishLanguageName:"Danish"},nl:{languageName:"Nederlandse",englishLanguageName:"Dutch"},en:{languageName:"English (US)",englishLanguageName:"English (US)"},en_GB:{languageName:"English (UK)",englishLanguageName:"English (UK)"},et:{languageName:"Eesti",englishLanguageName:"Estonian"},fa:{languageName:"فارسی",englishLanguageName:"Farsi",isRightToLeft:!0},fi:{languageName:"Suomi",englishLanguageName:"Finnish"},fr:{languageName:"Français (France)",englishLanguageName:"French (France)"},fr_CA:{languageName:"Français (Canada)",englishLanguageName:"French (Canada)"},de:{languageName:"Deutsch",englishLanguageName:"German"},el:{languageName:"Ελληνικά",englishLanguageName:"Greek"},he:{languageName:"עברית‏",englishLanguageName:"Hebrew",isRightToLeft:!0},hi:{languageName:"हिन्दी",englishLanguageName:"Hindi"},hu:{languageName:"Magyar",englishLanguageName:"Hungarian"},id:{languageName:"Bahasa Indonesia",englishLanguageName:"Bahasa Indonesia"},it:{languageName:"Italiano",englishLanguageName:"Italian"},ja:{languageName:"日本語",englishLanguageName:"Japanese"},ko:{languageName:"한국어",englishLanguageName:"Korean"},lv:{languageName:"Latviešu",englishLanguageName:"Latvian"},lt:{languageName:"Lietuvių",englishLanguageName:"Lithuanian"},ms:{languageName:"Bahasa Melayu",englishLanguageName:"Bahasa Malay"},no:{languageName:"Norsk",englishLanguageName:"Norwegian"},pl:{languageName:"Polski",englishLanguageName:"Polish"},pt:{languageName:"Português (Portugal)",englishLanguageName:"Portuguese (Portugal)"},pt_BR:{languageName:"Português (Brasil)",englishLanguageName:"Portuguese (Brasil)"},ro:{languageName:"Română",englishLanguageName:"Romanian"},ru:{languageName:"Русский",englishLanguageName:"Russian"},sr:{languageName:"Српски",englishLanguageName:"Serbian"},sk:{languageName:"Slovenčina",englishLanguageName:"Slovak"},sl:{languageName:"Slovenščina",englishLanguageName:"Slovenian"},es:{languageName:"Español",englishLanguageName:"Spanish"},es_MX:{languageName:"Español (América Latina)",englishLanguageName:"Spanish (Latin America)"},sv:{languageName:"Svenska",englishLanguageName:"Swedish"},th:{languageName:"ภาษาไทย",englishLanguageName:"Thai"},tr:{languageName:"Türkçe",englishLanguageName:"Turkish"},uk:{languageName:"Українська",englishLanguageName:"Ukranian"},vi:{languageName:"Việt",englishLanguageName:"Vietnamese"}}}return n}();n.localeModule.constant("Locales",new t)})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(n){this.$location=n}return n.extractQueryStringValue=function(n,t){var r,u,i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),u=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=u.exec(n),i!==null&&(r=decodeURIComponent(i[1].replace(/\+/g," "))),r},n.prototype.getValue=function(t,i){return n.extractQueryStringValue(t,i)},n.prototype.getValueFromCurrentLocation=function(n){return this.getValue(this.$location.absUrl(),n)},n}();angular.module("LoginAppNext.QueryString",[]).service("queryString",["$location",n])})(t=n.QueryString||(n.QueryString={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(n){this.storageGenerator=n}return n.prototype.getStorage=function(n){var t=this.storageGenerator.getNamespacedStore(n,"sessionStorage");try{t.set("testKey","testVal");t.remove("testKey")}catch(i){t=this.storageGenerator.getNamespacedStore(n,"cookieStorage")}return t},n}();angular.module("LoginAppNext.Storage",[]).service("storageService",["store",n])})(t=n.Storage||(n.Storage={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.flavorModule=angular.module("LoginAppNext.UiFlavor",["angular-storage","LoginAppNext.QueryString","LoginAppNext.Storage"])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){(function(n){n[n.no_header=0]="no_header";n[n.no_footer=1]="no_footer";n[n.no_sign_up=2]="no_sign_up";n[n.no_cancellation=3]="no_cancellation";n[n.no_title=4]="no_title";n[n.no_password_reset=5]="no_password_reset";n[n.no_different_user_sign_in=6]="no_different_user_sign_in";n[n.no_auth_alternative=7]="no_auth_alternative"})(n.Options||(n.Options={}));var t=n.Options,i=function(){function n(n,t,i){var r=this;this.$location=t;this.queryString=i;this.ui={allowCancellation:!0,allowPasswordReset:!0,showFooter:!0,showHeader:!0,showSignUpOptions:!0,showTitle:!0,showDifferentUserSignIn:!0,showAuthAlternative:!0};n.$on("$locationChangeSuccess",function(){r.setOptionsFromQueryString()});this.setOptionsFromQueryString()}return n.prototype.setOptions=function(n){this.ui.showHeader=n.indexOf(t.no_header)===-1;this.ui.showFooter=n.indexOf(t.no_footer)===-1;this.ui.showSignUpOptions=n.indexOf(t.no_sign_up)===-1;this.ui.allowCancellation=n.indexOf(t.no_cancellation)===-1;this.ui.showTitle=n.indexOf(t.no_title)===-1;this.ui.allowPasswordReset=n.indexOf(t.no_password_reset)===-1;this.ui.showDifferentUserSignIn=n.indexOf(t.no_different_user_sign_in)===-1;this.ui.showAuthAlternative=n.indexOf(t.no_auth_alternative)===-1},n.prototype.setOptionsFromQueryString=function(){var r=this.queryString.getValueFromCurrentLocation(n.queryStringKey),u,i;angular.isString(r)&&(u=r.split(n.queryStringSeparator),i=[],angular.forEach(u,function(n){angular.isDefined(t[n])&&i.push(t[n])}),this.setOptions(i))},n.queryStringKey="ui_flavors",n.queryStringSeparator=" ",n}();n.flavorModule.service("flavor",["$rootScope","$location","queryString",i])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.layoutModule=angular.module("LoginAppNext.Layout",["ui.router","LoginAppNext.templates","LoginAppNext.UiFlavor","LoginAppNext.Locale","LoginAppNext.QueryString"]);n.layoutModule.config(["$stateProvider",function(n){n.state("authenticate",{abstract:!0,templateUrl:"LoginAppNext/layout/layout.html"})}])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(i,r){function e(t,i){angular.forEach(n,function(n){n.name===i.name&&f(n)})}function f(n){angular.isObject(n)&&(angular.isString(n.metaDescription)?r.attr("content",n.metaDescription):angular.isString(n.pageTitle)&&r.attr("content",n.pageTitle))}var o=i.$root.$on("$stateChangeSuccess",e),u;i.$on("$destroy",o);u=n[t.state];angular.isObject(u)&&f(u)}}}n.layoutModule.directive("metaDescription",["loginSupportedStates","fixture",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=/\[\[!/g,i=/!\]\]/g,r=function(){function n(n){this.$interpolate=n}return n.prototype.setLocale=function(){},n.prototype.getInterpolationIdentifier=function(){return"unsafe-do-not-use-directly"},n.prototype.interpolate=function(n,r){var u=n.replace(t,this.$interpolate.startSymbol()).replace(i,this.$interpolate.endSymbol());return this.$interpolate(u)(r)},n}();n.localeModule.service("unsafeInterpolation",["$interpolate",r])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",scope:!1,priority:1e3,link:function(t,i,r){var u=r.unsafeInterpolation;angular.isString(u)&&u.length>0&&(i.removeAttr("unsafe-interpolation"),i.attr("translate-interpolation","unsafe-do-not-use-directly"),n(i)(t))}}}n.localeModule.directive("unsafeInterpolation",["$compile",t])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.loginModule=angular.module("LoginAppNext.Login",["ui.router","LoginAppNext.Layout","LoginAppNext.Fixture","LoginAppNext.Security"])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.usernamePostAction=n.username_next_step_in_flow}return n}();n.loginModule.controller("UserName",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function c(e,s){var c,a,l,v,h,y;try{if(c=t.get(n.perfLoggingConfig.storageUnloadTime),a=t.get(n.perfLoggingConfig.storageUnloadLocation),!angular.isNumber(c))return;l=s-c;r("Total request duration: "+l);v=t.get(n.perfLoggingConfig.storageAppLoadTime);h=t.get(n.perfLoggingConfig.storageViewLoadData);angular.isArray(h)||(h=[]);h.push({Name:"appUnloadTime",TimeStamp:c});h.push({Name:"appLoadedTime",TimeStamp:s});h.push({Name:"previousAppLoadTime",TimeStamp:v});t.set(n.perfLoggingConfig.storageViewLoadData,[]);y={previousLocation:a,currentLocation:e,duration:l,traceToken:f.trace_token,userAgent:i.navigator.userAgent,rawPerfData:h};o({method:"POST",url:n.perfLoggingConfig.servicePath,data:angular.toJson(y),headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(){},function(){})}catch(p){u.reportClientScriptError(p,"PerfLoggingService")}}function r(n){s&&e.info(n)}var t,u,f,e,i,o,s,h;n.perfLoggingConfig={servicePath:"/client-perf",storageName:"performance",storageUnloadLocation:"onBeforeUnloadLocation",storageUnloadTime:"onBeforeUnloadTime",storageViewLoadData:"viewLoadData",storageAppLoadTime:"appLoadTime"};h=function(){function h(r,h,c,l,a,v){t=l.getStorage(n.perfLoggingConfig.storageName);e=c;i=h;o=r;u=a;f=v;s=angular.isDefined(v.enable_debug_output)?v.enable_debug_output:!1}return h.prototype.recordClientUnload=function(){var u=Date.now();r("unload time "+u);t.set(n.perfLoggingConfig.storageUnloadTime,u);t.set(n.perfLoggingConfig.storageUnloadLocation,i.location.pathname+i.location.hash)},h.prototype.recordClientLoad=function(){var u=Date.now(),f=i.location.pathname+i.location.hash;r("appload time "+u);c(f,u);t.set(n.perfLoggingConfig.storageAppLoadTime,u)},h.prototype.recordAngularViewLoad=function(i){var u=t.get(n.perfLoggingConfig.storageViewLoadData),f=Date.now(),e;angular.isArray(u)||(u=[]);e={Name:i.name,TimeStamp:f};u.push(e);t.set(n.perfLoggingConfig.storageViewLoadData,u);r("viewLoad name: "+i.name+" time: "+f)},h}();angular.module("LoginAppNext.PerfLoggingService",[]).service("perfLoggingService",["$http","$window","$log","storageService","clientErrorService","fixture",h])})(t=n.PerfLoggingService||(n.PerfLoggingService={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(n,t,i){this.$compileProvider=n;this.i18nLayer=t;this.fixture=i}return n.prototype.setWhitelists=function(n){var t=new RegExp("^("+this.fixture.site_root+"|data:image/png;base64)");this.$compileProvider.imgSrcSanitizationWhitelist(t);this.setHrefWhitelist(n)},n.prototype.setHrefWhitelist=function(n){var r=this.i18nLayer.getLink("privacy",n),u=this.i18nLayer.getLink("term",n),f=this.i18nLayer.getLink("ip",n),t=[this.fixture.site_root,f,r,u],i;this.fixture.whitelist_uris.forEach(function(n){t.push(n)});i=new RegExp("^("+t.join("|")+")");this.$compileProvider.aHrefSanitizationWhitelist(i)},n}();angular.module("LoginAppNext.Sanitization",[]).service("sanitizationService",["$compileProvider","i18nLayer","fixture",n])})(t=n.Sanitization||(n.Sanitization={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.signupModule=angular.module("LoginAppNext.Signup",["ui.router","LoginAppNext.Fixture","LoginAppNext.Layout"])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(i){function r(){i.currentCultureKey=t.use()}r();var u=n.$on("$translateChangeSuccess",r);i.$on("$destroy",u)}}}n.signupModule.directive("currentCultureKey",["$rootScope","$translate",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.loginModule.constant("loginSupportedStates",{password:{name:"authenticate.password",url:"/password",pageTitle:"DocuSign Login - Enter your password to sign in"},username:{name:"authenticate.username",url:"/username",pageTitle:"DocuSign Login - Enter email to start sign in",metaDescription:"Sign in to your DocuSign account to electronically sign documents, request signatures, check document status, send reminders, and view audit trails."},social:{name:"authenticate.social",url:"/social",pageTitle:"DocuSign Login - Select service"}})})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.signupModule.constant("signupSupportedStates",{root:{name:"authenticate.signup",url:"/sign-up"},signup:{name:"authenticate.signup.signup",url:""},complete:{name:"authenticate.signup.complete",url:"/complete"},externallyManaged:{name:"authenticate.signup.externally-managed",url:"/externally-managed"},activation:{name:"authenticate.signup.activation",url:"/activation"}})})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;this.isPresent=angular.isObject(t);this.isPresent&&(this.loginUri=t.login_uri,this.signUpParameters=t.sign_up_parameters,this.submissionUri=t.submission_uri)}return n}();n.signupModule.service("signup",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=t.state_data;t.state==="signup"&&angular.isObject(i)&&angular.isString(i.state)&&!angular.isUndefined(n[i.state])&&(this.current=n[i.state])}return n}();n.signupModule.service("signupState",["signupSupportedStates","fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.instant("Link opens in new window"),i=n.use(),r,u;this.anchorEndTag="<\/a>";r="https://www.docusign.com/company/terms-of-use/lang/"+i;this.termsPolicyStartTag="<a 'class='item' target='_blank'' title='"+t+"' href='"+r+"'>";u="https://www.docusign.com/company/privacy-policy/lang/"+i;this.privacyPolicyStartTag="<a 'class='item' target='_blank'' title='"+t+"' href='"+u+"'>"}return n}();n.signupModule.controller("SignupPolicy",["$translate",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){function t(n,t){var i=[];return angular.forEach(t,function(t){var u=t.replace("-","_").split(";")[0],r;angular.isUndefined(n[u])||i.push(u);r=u.split("_");r.length>1&&!angular.isUndefined(n[r[0]])&&i.push(r[0])}),i}var n=angular.module("LoginAppNext.App",["ui.router","pascalprecht.translate","ngCookies","ngSanitize","LoginAppNext.Fixture","LoginAppNext.Login","LoginAppNext.Locale","LoginAppNext.QueryString","LoginAppNext.Challenges","LoginAppNext.Polyfills","LoginAppNext.Signup","LoginAppNext.Invite","LoginAppNext.ClientErrorService","LoginAppNext.I18nLayer","LoginAppNext.TextFlavor","LoginAppNext.Sanitization","LoginAppNext.PerfLoggingService"]);n.config(["$provide","$compileProvider","fixture",function(n,t,i){angular.isFunction(t.debugInfoEnabled)&&t.debugInfoEnabled(i.enable_debug_output);n.constant("$compileProvider",t)}]);n.factory("$exceptionHandler",["$injector","$log",function(n,t){return function(i,r){var u=n.get("clientErrorService");u.reportClientScriptError(i,r);t.error(i,r)}}]);n.config(["$translateProvider","fixture","Locales",function(n,i,r){n.addInterpolation("bracketInterpolation");n.addInterpolation("unsafeInterpolation");n.storageKey("_culture");n.useLocalStorage();n.useStaticFilesLoader({prefix:i.site_root+(i.site_root[i.site_root.length-1]!=="/"?"/":"")+"LoginAppNext/languages/",suffix:".json"});n.translations(i.fallback_language.key,i.fallback_language.strings);n.fallbackLanguage(i.fallback_language.key);var u=[];angular.isArray(i.browserLanguagePreferences)&&(u=t(r.signing,i.browserLanguagePreferences));u.push(i.fallback_language.key);n.preferredLanguage(u[0]);n.useSanitizeValueStrategy("escapeParameters")}]);n.config(["$urlRouterProvider","$locationProvider","loginSupportedStates",function(n,t,i){t.html5Mode({enabled:!1});t.hashPrefix("");n.otherwise(i.username.url)}]);n.run(["$state","fixture","loginSupportedStates","challengeSupportedStates","challenge","signupState","inviteService",function(n,t,i,r,u,f,e){var o,s;angular.isString(t.state)&&(o=i[t.state],angular.isUndefined(o)?angular.isUndefined(f.current)?angular.isUndefined(e.currentState)?t.state==="challenge"&&(s=r[u.name],angular.isUndefined(s)||n.go(s.name)):n.go(e.currentState.name):n.go(f.current.name):n.go(o.name))}]);n.run(["$window","perfLoggingService","fixture",function(n,t,i){i.isClientLoggingEnabled&&(n.onbeforeunload=t.recordClientUnload,n.onload=t.recordClientLoad)}]);n.run(["queryString","$translate","Locales","sanitizationService",function(n,i,r,u){var s=n.getValueFromCurrentLocation("ui_locales"),f,o;if(!angular.isUndefined(s)){f=t(r.signing,s.split(" "));function e(){if(f.length>0){var n=f.shift();i.use(n).then(null,e)}}o=i.proposedLanguage();angular.isUndefined(o)?e():i.use(o).then(e)}u.setWhitelists(i.proposedLanguage())}])})(t=n.App||(n.App={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function t(n,t,i,r,u,f,e){this.textFlavor=u;this.i18nLayer=e;var o=r.data;this.createUIModel(n,t,o)}return t.prototype.createUIModel=function(t,r,u){var o=this,f={},e;angular.forEach(n.scopeDescriptions,function(n){f[n.id]=n});e=[];angular.forEach(u,function(n){var h=n.requested_scopes,u=[],s;angular.forEach(h,function(n){var t=f[n.Value];angular.isUndefined(t)||u.push(t)});u.length===0&&u.push(f[5]);s=new i(t,r,n.app_name,u,n.privacy_policy,n.terms_of_use,o.textFlavor.name,o.i18nLayer);e.push(s)});this.data=e},t}(),i=function(){function n(n,t,i,r,u,f,e,o){var s,h;this.i18nLayer=o;this.hasPrivacyPolicy=!1;this.hasTermsPolicy=!1;this.app_name=i;this.requested_scopes=r;s=t.instant("Link opens in new window");angular.isString(u)&&u.length>0?(this.hasPrivacyPolicy=!0,this.privacyPolicyStartTag="<a href='"+n.encodeURI(u)+"' title='"+s+"' target='_blank'>",this.privacyPolicyEndTag="<\/a>"):(this.privacyPolicyStartTag="",this.privacyPolicyEndTag="");angular.isString(f)&&f.length>0?(this.hasTermsPolicy=!0,this.termsPolicyStartTag="<a href='"+n.encodeURI(f)+"' title='"+s+"' target='_blank'>",this.termsPolicyEndTag="<\/a>"):(this.termsPolicyStartTag="",this.termsPolicyEndTag="");angular.isString(e)&&(e==="ariadnext_aes"||e==="ariadnext_qes")&&(h=t.proposedLanguage(),this.termsPolicyStartTag="<a href='"+n.encodeURI(this.i18nLayer.getLink(e,h))+"' title='"+s+"' target='_blank'>",this.termsPolicyEndTag="<\/a>")}return n}();n.challengeModule.controller("AppConsent",["$window","$translate","fixture","challenge","textFlavor","errorMessages","i18nLayer",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.emailFormatStart="<b>";this.emailFormatEnd="<\/b>";var t=n.data;this.oldEmailAddress=t.OldEmail;this.newEmailAddress=t.NewEmail}return n}();n.challengeModule.controller("FederatedUserChangeEmail",["challenge",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;angular.isString(i.ClientMessageError)&&(this.errorMessageKey=t[i.ClientMessageError])}return n}();n.challengeModule.controller("FederationConsent",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;this.uri=t.trustAsUrl(i.PasswordResetLink)}return n}();n.challengeModule.controller("ForcePasswordReset",["challenge","$sce",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.challengeModule.config(["$stateProvider","challengeSupportedStates",function(n,t){n.state(t.challenge.name,{url:t.challenge.url,abstract:!0}).state(t.userselection.name,{title:"Select a user",url:t.userselection.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/user-selection/user-selection.html"}}}).state(t["activation-required"].name,{title:"Activate Your Account",url:t["activation-required"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/activation-required/activation-required.html"}}}).state(t.forcepassword.name,{title:"You are required to change your password",url:t.forcepassword.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/forcepassword/forcepassword.html"}}}).state(t["phone-verification"].name,{url:t["phone-verification"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/phone-verification/phone-verification.html"}}}).state(t.federalapplicationpolicy.name,{title:"Consent Required",url:t.federalapplicationpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federalapplicationpolicy/federalapplicationpolicy.html"}}}).state(t.federationconsentpolicy.name,{title:"Single Sign-On Error",url:t.federationconsentpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federationconsentpolicy/federationconsentpolicy.html"}}}).state(t.federateduserchangeemailpolicy.name,{title:"E-mail Change Confirmation",url:t.federateduserchangeemailpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/federateduserchangeemailpolicy/federateduserchangeemailpolicy.html"}}}).state(t.appconsent.name,{url:t.appconsent.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/appconsent/appconsent.html"}}}).state(t.adminconsentpolicy.name,{url:t.adminconsentpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/adminconsentpolicy/adminconsentpolicy.html"}}}).state(t.domainloginrestrictionpolicy.name,{url:t.domainloginrestrictionpolicy.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/domainloginrestrictionpolicy/domainloginrestrictionpolicy.html"}}}).state(t["two-step-verification"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/phone-options.html"}}}).state(t["forgot-password-first-proof"].name,{title:"Reset your password",url:t["forgot-password-first-proof"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/forgot-password.html"}}}).state(t["two-step-verification-select-phone-option"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-select-phone-option"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/phone-options.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}}).state(t["secret-questions-secret-answer"].name,{title:"Security Questions",url:t["secret-questions-secret-answer"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/secret-questions-secret-answer/secret-questions-secret-answer.html"}}}).state(t["two-step-verification-select-proof"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-select-proof"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/select-proof.html"}}}).state(t["two-step-verification-authenticator-app-verify-code"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-authenticator-app-verify-code"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/auth-app-verify-code.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}}).state(t["two-step-verification-error-view"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-error-view"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/tfa-error.html"}}}).state(t["two-step-verification-bootstrap"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-bootstrap"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/bootstrap.html"}}}).state(t["two-step-verification-verify-code"].name,{title:"Two-Step Verification",getAlternativeTitle:function(n,t){var i=t.data;return i.is_fcp_state?"You are required to change your password":null},url:t["two-step-verification-verify-code"].url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/verify-code.html"},"alternative@authenticate":{templateUrl:"LoginAppNext/challenges/two-step-verification/change-send-options.html"}}})}])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function i(n,i,r,u){function e(e,o,s){function a(){o.removeClass("fade");o.children().removeClass("notification").addClass("notification-show");n(function(){return o.addClass("fade")},f)}var h={message:s.message,values:s.values,icon_name:"icon-alert-triangle",class_name:"message-error"},v=parseInt(t[s.type],10),c,l;switch(v){case t.warn:h.class_name="message-warning";break;case t.info:h.icon_name="icon-info";h.class_name="message-info";break;case t.success:h.icon_name="icon-check";h.class_name="message-success"}e.notification=h;c=i[0].getElementsByClassName("message_content")[0];s.showOnload&&a();r.$on("showNotification",function(n,t){if(angular.isString(t.id)&&t.id.toString().toLowerCase()===o.attr("id").toLowerCase()){if(angular.isString(t.message)&&angular.isElement(c)){var i=u.instant(t.message);l=angular.isObject(l)?l.text(i):angular.element(c).text(i)}a()}})}var f=5e3;return{restrict:"E",replace:!0,scope:{notification:"=id"},templateUrl:"LoginAppNext/layout/notification-bar.html",link:e}}(function(n){n[n.info=0]="info";n[n.warn=1]="warn";n[n.error=2]="error";n[n.success=3]="success"})(n.NotificationTypes||(n.NotificationTypes={}));var t=n.NotificationTypes;n.layoutModule.directive("notification",["$timeout","$document","$rootScope","$translate",i])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t,i;(function(n){n[n.sms=0]="sms";n[n.voice=1]="voice"})(t||(t={}));i=function(){function n(n,t,i,r){if(this.codeSent=!1,this.challengeAction=n.name,this.proofData=n.data,angular.isObject(this.proofData))this.attemptsRemaining=this.proofData.MaxAttemptsAllowed-this.proofData.CurrentAttempt,angular.isDefined(this.proofData.SelectedPhoneNumber)&&this.proofData.SelectedPhoneNumber!==""?(this.codeSent=!0,this.selectedDestination=this.proofData.SelectedPhoneNumber):this.selectedDestination=this.proofData.PhoneNumbers[0],angular.isObject(this.proofData.Error)&&(this.error={message:t[this.proofData.Error.ResourceKey],data:this.proofData.Error.Data});else{var u="Error with challenge.data.  typeof challenge.data: "+typeof n.data+" is challenge.data null? "+(n.data===null);r.generateClientScriptError("Phone Verification proofData is not an object",u);this.error={message:t.bad_request,data:null}}}return n.prototype.resendCode=function(){var n=document.getElementById("validateForm"),t=document.getElementById("security_code"),i=document.getElementById("resendCode");t.value="";i.value="true";n.submit()},n}();n.challengeModule.controller("PhoneVerification",["challenge","errorMessages","phoneNumber","clientErrorService",i])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data;angular.isString(i.ResourceKey)&&(this.errorMessageKey=t[i.ResourceKey])}return n}();n.challengeModule.controller("ActivationRequired",["challenge","errorMessages",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t,i;(function(n){n[n.phone=0]="phone";n[n.email=1]="email";n[n.authenticatorApp=2]="authenticatorApp"})(n.RecoveryInfoTypes||(n.RecoveryInfoTypes={}));t=n.RecoveryInfoTypes,function(n){n[n.sms=0]="sms";n[n.voice=1]="voice";n[n.email=2]="email"}(n.ChannelTypes||(n.ChannelTypes={}));i=n.ChannelTypes})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t="/challenges/v1/tsv/{recoveryId}/send/{channelType}/{isBootstrapProof}",i="/challenges/v1/tsv/{recoveryId}/send/{language}",r="Bearer {0}",u=function(){function u(n,t,i,u,f,e,o,s,h,c,l){this.challengeService=t;this.errorMessages=i;this.$http=u;this.$document=f;this.$rootScope=e;this.$state=o;this.challengeSupportedStates=s;this.loginSupportedStates=h;this.$stateParams=c;this.$translate=l;this.selectedFactorType=null;this.bearerToken=angular.isString(this.challengeService.flowToken)?r.replace("{0}",this.challengeService.flowToken):null;this.proofData=t.data;this.requestState=t.state;this.allowTrustedDevices=!this.proofData.is_forgot_password_flow&&!this.proofData.is_fcp_state;this.displayInitialView();this.handleServerErrors()}return u.prototype.displayInitialView=function(){var u=this,t,i,r;if(this.$state.current.name===this.challengeSupportedStates["two-step-verification"].name)if(this.proofData.is_bootstrap_proof)this.proofData.is_forgot_password_flow?this.$state.go(this.challengeSupportedStates["forgot-password-first-proof"].name):this.$state.go(this.challengeSupportedStates["two-step-verification-bootstrap"].name);else if(t=this.proofData.proof_list.filter(function(n){if(n.id===u.proofData.selected_proof_id)return!0}),angular.isArray(t)&&t.length>0)this.setCurrentFactor(t[0].id),t[0].type===n.RecoveryInfoTypes.authenticatorApp?this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name):this.$state.go(this.challengeSupportedStates["two-step-verification-verify-code"].name);else{if(i=this.proofData.proof_list.filter(function(t){if(t.type===n.RecoveryInfoTypes.authenticatorApp)return!0}),angular.isArray(i)&&i.length>0){this.setCurrentFactor(i[0].id);this.$state.go(this.challengeSupportedStates["two-step-verification-authenticator-app-verify-code"].name);return}r=this.proofData.proof_list.filter(function(t){if(t.type===n.RecoveryInfoTypes.phone)return!0});angular.isArray(r)&&r.length>0?(this.setCurrentFactor(r[0].id),this.$state.go(this.challengeSupportedStates["two-step-verification-select-phone-option"].name)):this.$state.go(this.challengeSupportedStates["two-step-verification-select-proof"].name)}},u.prototype.handleServerErrors=function(){angular.isObject(this.proofData.error)&&(this.proofError={message:angular.isString(this.errorMessages[this.proofData.error.ResourceKey])?this.errorMessages[this.proofData.error.ResourceKey]:this.proofData.error.ResourceKey,data:this.proofData.error.Data,resourceKey:this.proofData.error.ResourceKey},this.shouldShowErrorView(this.proofError.resourceKey)&&this.$state.go(this.challengeSupportedStates["two-step-verification-error-view"].name))},u.prototype.getRecoveryType=function(t){return angular.isDefined(t)?n.RecoveryInfoTypes[t.type]:n.RecoveryInfoTypes[this.selectedFactorType]},u.prototype.getCurrentChannelType=function(){return n.ChannelTypes[this.selectedChannel]},u.prototype.setCurrentChannel=function(t){this.selectedChannel=n.ChannelTypes[t];this.selectedChannelType=t},u.prototype.setCurrentFactor=function(t){var i,r=0;i=this.proofData.proof_list.filter(function(n,i){if(t===n.id)return r=i,!0});angular.isArray(i)&&i.length>0&&(this.selectedFactor=i[0],this.selectedFactorType=this.selectedFactor.type,this.selectedFactorIndex=r,this.challengeService.updateStateData("selected_channel_type",this.selectedFactorType),this.challengeService.updateStateData("selected_proof_id",this.selectedFactor.id),this.setCurrentChannel(this.selectedFactor.type===n.RecoveryInfoTypes.phone?n.ChannelTypes[n.ChannelTypes.sms]:n.RecoveryInfoTypes[this.selectedFactor.type]))},u.prototype.sendCode=function(r){var o=this,u,f,e;if(angular.isDefined(r.recoveryInfoId)&&this.setCurrentFactor(r.recoveryInfoId),!angular.isString(this.bearerToken)){this.$rootScope.$emit("showNotification",{id:"sendCodeError",message:this.errorMessages.challenge_tsv_service_unavailable});return}f={Authorization:this.bearerToken,"X-Requested-With":"XMLHttpRequest"};r.isForgotPassword?(u=i.replace("{language}",this.$translate.use()),f["Content-Type"]="application/x-www-form-urlencoded",e="protectedState="+encodeURIComponent(this.requestState)):(u=t.replace("{channelType}",n.ChannelTypes[this.selectedChannelType]),u=r.isBootstrapProof?u.replace("{isBootstrapProof}","true"):u.replace("{isBootstrapProof}","false"));u=u.replace("{recoveryId}",this.selectedFactor.id);this.$http({method:"POST",url:u,headers:f,data:e}).then(function(n){r.successCallback(n)},function(n){o.sendCodeErrorHandler(n);angular.isFunction(r.failureCallback)&&r.failureCallback(n)}).then(function(){angular.isFunction(r.finallyCallback)&&r.finallyCallback()})},u.prototype.sendCodeErrorHandler=function(n){var t,i;n.status===401?this.$state.go(this.loginSupportedStates.username.name):(angular.isString(n.data.error)&&angular.isString(this.errorMessages[n.data.error])&&(t=this.errorMessages[n.data.error]),this.shouldShowErrorView(n.data.error)?(i={message:angular.isString(this.errorMessages[n.data.error])?this.errorMessages[n.data.error]:n.data.error,data:angular.isString(n.data.error_description)?n.data.error_description:"no description",resourceKey:n.data.error},this.proofError=i,this.$state.go(this.challengeSupportedStates["two-step-verification-error-view"].name)):this.$rootScope.$emit("showNotification",{id:"sendCodeError",message:t}))},u.prototype.shouldShowErrorView=function(n){var t=!1;switch(n){case"proof_locked":case"user_locked":case"user_not_found":case"no_recovery_info_found":case"challenge_tsv_locked_out_proof":case"challenge_tsv_locked_out_user":t=!0}return t},u.prototype.canRetryWithDifferentProof=function(n){var t=!1;switch(n){case"proof_locked":case"challenge_tsv_locked_out_proof":t=!0}return t},u}();n.challengeModule.service("TwoFactorAuthService",["fixture","challenge","errorMessages","$http","$document","$rootScope","$state","challengeSupportedStates","loginSupportedStates","$stateParams","$translate",u])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var i=n.data,r;angular.isObject(i)&&angular.isArray(i.Users)?this.available=i.Users:(r="Error with challenge.data!",r+=angular.isObject(n.data)?" challenge.data is an object but challenge.data.Users array is missing. typeof challenge.data.Users: "+typeof n.data.Users+" is Users null? "+(n.data.Users===null):" challenge.data is not an object typeof challenge.data: "+typeof n.data+" is challenge.data null? "+(n.data===null),t.generateClientScriptError("Unable to obtain challenge.data",r,"challenge.data"));this.selectedUser=null}return n}();n.challengeModule.controller("UserSelection",["challenge","clientErrorService",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){this.hasError=angular.isArray(n.errors)&&n.errors.length>0;this.hasError&&(this.errors=angular.copy(n.errors),angular.forEach(this.errors,function(n){n.displayMessage=angular.isString(n.code)&&!angular.isUndefined(t[n.code])?t[n.code]:angular.isUndefined(t[n.message])?n.message:t[n.message]}))}return n}();n.fixtureModule.controller("FixtureError",["fixture","errorMessages",t])})(t=n.Fixture||(n.Fixture={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(){return{restrict:"A",scope:!1,link:function(n,t,i){n[i.currentDate]=new Date}}}n.layoutModule.directive("currentDate",[t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.layoutModule.constant("customCallToAction",{cta_ecom_1:"Log in to continue your purchase",cta_ecom_2:"cta_ecom_2 string",cta_ecom_3:"cta_ecom_3 string",cta_fake_1:"Here's a fake call to action"})})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){"use strict";var t=function(){function n(n){this.fixture=n;this.useDocuSignLogo=!0;this.useCustomLogo=!1;angular.isString(n.logo_bytes)?(this.useDocuSignLogo=!1,this.useCustomLogo=!0,this.logoByteSrc="data:image/png;base64,"+n.logo_bytes):this.useDocuSignLogo=!0}return n}();n.layoutModule.controller("LogoController",["fixture",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f,e){var s=this,o;this.$translate=n;this.locales=t;this.sanitizationService=f;this.i18nLayer=e;this.languageMenuVisible=!1;this.languageNameLookup={};this.available=t.signing;this.scope=r;this.$timeout=u;this.languageMenu=document.getElementById("languageMenu");this.htmlRoot=document.getElementsByTagName("html")[0];this.languageMenuButton=this.languageMenu.getElementsByTagName("button").item(0);this.languageList=document.getElementById("languageList");this.languageButtons=this.languageList.getElementsByTagName("button");this.handleLocaleChange();o=i.$on("$translateChangeSuccess",function(){return s.handleLocaleChange()});r.$on("$destroy",o)}return n.prototype.keyboardHandler=function(n){var i=this.languageList.clientWidth,r=this.focusTarget.clientWidth,u=Math.floor(i/r),f=this.currentLanguageIndex%u,t=0;switch(n.which){case 9:t=n.shiftKey?this.currentLanguageIndex-1:this.currentLanguageIndex+1;this.focusTarget=this.languageButtons.item(t);this.currentLanguageIndex=t;(t<0||t>=this.languageButtons.length)&&(this.showLanguageMenu(),this.scope.$apply());return;case 27:this.showLanguageMenu(!0);this.scope.$apply();return;case 38:t=this.currentLanguageIndex-1>=0?this.currentLanguageIndex-1:this.languageButtons.length-1;break;case 40:t=this.currentLanguageIndex+1<this.languageButtons.length&&f+1<this.languageButtons.length?this.currentLanguageIndex+1:0;break;default:return}this.focusTarget=this.languageButtons.item(t);this.currentLanguageIndex=t;this.focusTarget.focus()},n.prototype.resizeHandler=function(){this.showLanguageMenu(!0);this.scope.$apply()},n.prototype.mouseHandler=function(n){for(var t=n.target,i=!1;angular.isElement(t);)if(t!==this.languageMenu)t=t.parentElement;else{i=!0;break}i||(this.showLanguageMenu(),this.scope.$apply())},n.prototype.setCurrentCulture=function(n){this.$translate.use(n);this.showLanguageMenu(!0)},n.prototype.showLanguageMenu=function(n){var t=this;if(n===void 0&&(n=!1),this.languageMenuVisible)this.languageMenuVisible=!1,this.focusTarget=null,this.currentLanguageIndex=null,angular.element(document).off("keydown",this.activeKeyHandler),angular.element(document).off("mousedown",this.activeMouseHandler),angular.element(window).off("resize",this.activeResizeHandler),n&&this.languageMenuButton.focus();else{this.languageMenuVisible=!0;this.currentLanguageIndex=0;this.focusTarget=this.languageButtons.item(0);this.activeKeyHandler=function(n){t.keyboardHandler(n)};this.activeMouseHandler=function(n){t.mouseHandler(n)};this.activeResizeHandler=function(n){t.resizeHandler(n)};angular.element(document).on("keydown",this.activeKeyHandler);angular.element(document).on("mousedown",this.activeMouseHandler);angular.element(window).on("resize",this.activeResizeHandler);this.$timeout(function(){t.focusTarget.focus()})}},n.prototype.termsOfUseUrl=function(){return this.i18nLayer.getLink("term",this.currentCultureKey)},n.prototype.privacyPolicyUrl=function(){return this.i18nLayer.getLink("privacy",this.currentCultureKey)},n.prototype.IPUrl=function(){return this.i18nLayer.getLink("ip",this.currentCultureKey)},n.prototype.handleLocaleChange=function(){this.currentCultureKey=this.$translate.use();angular.isUndefined(this.available[this.currentCultureKey])?this.currentCultureName=null:(this.currentCultureName=this.available[this.currentCultureKey].languageName,this.htmlRoot.lang=this.currentCultureKey,this.htmlRoot.dir=angular.isDefined(this.available[this.currentCultureKey].isRightToLeft)?"rtl":"ltr");this.sanitizationService.setHrefWhitelist(this.currentCultureKey)},n}();n.layoutModule.controller("LanguageSelection",["$translate","Locales","$rootScope","$scope","$timeout","sanitizationService","i18nLayer",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",scope:!1,link:function(n,i,r){r.autoFocus!=="false"&&(i.attr("autofocus","true"),t(function(){i[0].focus()}))}}}n.layoutModule.directive("autoFocus",["fixture","$timeout",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t,i,r){var u="call_to_action";return{restrict:"A",scope:!1,link:function(f,e,o){function s(){var e=t.getValueFromCurrentLocation(u);f[o.callToAction]=angular.isString(i[e])?i[e]:r.getTitle(n.current)}var h=f.$root.$on("$stateChangeSuccess",s);f.$on("$destroy",h);s()}}}n.layoutModule.directive("callToAction",["$state","queryString","customCallToAction","textFlavor",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=/\[\[/g,i=/\]\]/g,r=function(){function n(n,t){this.$interpolate=n;this.$sanitize=t}return n.prototype.setLocale=function(){},n.prototype.getInterpolationIdentifier=function(){return"bracket"},n.prototype.interpolate=function(n,r){var f=n.replace(t,this.$interpolate.startSymbol()).replace(i,this.$interpolate.endSymbol()),u;if(angular.isObject(r))for(u in r)r.hasOwnProperty(u)&&(r[u]=this.$sanitize(r[u]));return this.$interpolate(f)(r)},n}();n.localeModule.service("bracketInterpolation",["$interpolate","$sanitize",r])})(t=n.Locale||(n.Locale={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",template:'<span translate="{{text}}" translate-interpolation="bracket" translate-values="{{values}}"><\/span><span class="error-msg" translate="{{error}}"><\/span>',scope:!0,link:function(i,r,u){var e,h,f,o;if(i.text=u.translateAttrLabelText,i.values=u.translateValues,e=50,h=1e4,angular.isDefined(r.attr("for"))){t(function(){if(f=document.getElementById(r.attr("for")),r.addClass("placeholder"),!angular.isUndefined(f)&&f!=null){o=angular.element(f);o.on("keyup",function(){s()});i.$watch(function(){return o.val()},function(n,t){n!==t&&s()});n.$on("validationMessageChange",function(n,u){r.attr("for")===u.id&&i.error!==u.message&&(i.error=u.message,t(function(){i.$apply()}))});t(function(){return c()})}});function c(){s();!r.hasClass("hide")&&e<h&&t(function(){return c()},e);e=e*2}function s(){o.val()||angular.isObject(f.validity)&&f.validity.badInput?r.addClass("hide"):r.removeClass("hide")}}}}}n.layoutModule.directive("labelAlert",["$rootScope","$timeout",t])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){(function(n){n[n.googleplus=0]="googleplus";n[n.facebook=1]="facebook";n[n.office365=2]="office365";n[n.salesforce=3]="salesforce";n[n.twitter=4]="twitter";n[n.yahoo=5]="yahoo"})(t.SocialAuthProvider||(t.SocialAuthProvider={}));var i=t.SocialAuthProvider;n.loginModule.constant("SocialAuthProviders",[{id:i.googleplus,name:"Google+",imageUri:"/LoginAppNext/images/social auth/google_plus@2x.png"},{id:i.facebook,name:"Facebook",imageUri:"/LoginAppNext/images/social auth/facebook@2x.png"},{id:i.office365,name:"Office 365",imageUri:"/LoginAppNext/images/social auth/office_365@2x.png"},{id:i.salesforce,name:"Salesforce",imageUri:"/LoginAppNext/images/social auth/salesforce@2x.png"},{id:i.twitter,name:"Twitter",imageUri:"/LoginAppNext/images/social auth/twitter@2x.png"},{id:i.yahoo,name:"Yahoo!",imageUri:"/LoginAppNext/images/social auth/yahoo@2x.png"}])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n){this.providerIds=t.SocialAuthProvider;this.provider=n.defaultProvider}return n}();n.loginModule.controller("DefaultSocialAuthProvider",["AvailableSocialAuthProviders",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function i(n,i){function r(i){var r;for(var u in t)if(i.validity[u]&&i.attributes[t[u]]){r=i.attributes[t[u]].value;i.setCustomValidity(r);n.$emit("validationMessageChange",{id:i.id,message:r});break}}function u(t){var i=t.className.indexOf("ng-invalid")>-1?!0:!1;return!i&&angular.isString(t.validationMessage)&&(t.setCustomValidity(""),n.$emit("validationMessageChange",{id:t.id,message:""})),i}return{restrict:"A",scope:!1,link:function(n,t){i(function(){var n=t[0];if(n.setCustomValidity)t.on("input keyup touchend",function(){u(n)&&r(n)})})}}}var t={badInput:"bad-input-message",customError:"custom-error-message",patternMismatch:"pattern-mismatch-message",rangeOverflow:"range-overflow-message",rangeUnderflow:"range-underflow-message",stepMismatch:"step-mismatch-message",tooLong:"too-long-message",tooShort:"too-short-message",typeMismatch:"type-mismatch-message",valueMissing:"value-missing-message"};n.layoutModule.directive("customValidationMessage",["$rootScope","$timeout",i])})(t=n.Layout||(n.Layout={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t,i){return{restrict:"E",scope:!1,link:function(r){function f(t,r){angular.forEach(n,function(n){n.name===r.name&&angular.isString(n.pageTitle)&&(i.document.title=n.pageTitle)})}var e=r.$root.$on("$stateChangeSuccess",f),u;r.$on("$destroy",e);u=n[t.state];angular.isObject(u)&&angular.isString(u.pageTitle)&&(i.document.title=u.pageTitle)}}}n.loginModule.directive("pageTitle",["loginSupportedStates","fixture","$window",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"ngModel",scope:!1,link:function(t,i,r){var u,f=angular.isObject(n.oauth)&&(u=n.oauth.login_hint)&&angular.isString(u)&&u.length>0,e,o;f||(f=(u=n.login_hint)&&angular.isString(u)&&u.length>0);e=t[r.ngModel];o=angular.isString(e)&&e.length>0;f&&!o&&(t[r.ngModel]=u)}}}n.loginModule.directive("loginHint",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i,r){var u=n.flow_submission_uris[r.flowSubmission];i.attr("action",u)}}}n.loginModule.directive("flowSubmission",["fixture",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.loginModule.config(["$stateProvider","loginSupportedStates",function(n,t){n.state(t.username.name,{title:"Please log in to your account",url:t.username.url,views:{auth:{templateUrl:"LoginAppNext/login/username/username.html"},authAlternative:{templateUrl:"LoginAppNext/login/username/authAlternatives.html"},alternative:{templateUrl:"LoginAppNext/login/username/alternatives.html"}}}).state(t.password.name,{title:"Please log in to your account",url:t.password.url,views:{auth:{templateUrl:"LoginAppNext/login/password/password.html"},authAlternative:{templateUrl:"LoginAppNext/login/password/authAlternatives.html"},alternative:{templateUrl:"LoginAppNext/login/password/alternatives.html"}}}).state(t.social.name,{title:"More log in options",url:t.social.url,views:{auth:{templateUrl:"LoginAppNext/login/external/social/additionalProviders.html"},authAlternative:{templateUrl:"LoginAppNext/login/external/social/back.html"}}})}])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.isEnabled=t.ui.allowCancellation&&angular.isString(n.flow_submission_uris.oauth_cancellation)&&n.flow_submission_uris.oauth_cancellation.length>0;this.isEnabled&&(this.uri=i.trustAsUrl(n.flow_submission_uris.oauth_cancellation))}return n}();n.loginModule.controller("Cancellation",["fixture","flavor","$sce",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.loginModule.factory("passwordStateData",["fixture",function(n){return n.state_data||{}}])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u){this.textFlavor=u;n!=null&&angular.isString(n.username)?(this.username=n.username,this.showSsoProvider=n.can_login_via_sso,this.usernameField=document.getElementById("username")):t.go(i.username.name);this.translator=r}return n.prototype.setUsername=function(n){this.usernameField.value=n},n.prototype.getClientLocale=function(){return this.translator.use()},n}();n.loginModule.controller("Password",["passwordStateData","$state","loginSupportedStates","$translate","textFlavor",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){if(this.show=t.ui.allowPasswordReset,this.show){var u=n.password_reset_uri;r!=null&&angular.isString(r.username)&&(u=u.indexOf("?")>0?u+"&email="+encodeURIComponent(r.username):u+"?email="+encodeURIComponent(r.username));this.uri=i.trustAsUrl(u)}}return n}();n.loginModule.controller("PasswordReset",["fixture","flavor","$sce","passwordStateData",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){var t=function(){function n(n,t){this.showSocialProviders=t.enabledProviders.length>0;this.showJanrainOptions=!this.showSocialProviders&&!n.is_oauth_flow;this.isAvailable=this.showJanrainOptions||this.showSocialProviders;this.hasMultipleSocialProviders=t.enabledProviders.length>1}return n}();n.loginModule.controller("ExternalAuthentication",["fixture","AvailableSocialAuthProviders",t])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){var t=function(){function n(n,t){this.uri=t.trustAsUrl(n.janrain_auth_uri)}return n}();n.loginModule.controller("Janrain",["fixture","$sce",t])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n,i,r){var u=this;this.enabledProviders=[];this.nonDefaultEnabledProviders=[];angular.isObject(i.social_auth)&&angular.isArray(i.social_auth.enabled_providers)&&i.social_auth.enabled_providers.length>0&&(angular.forEach(i.social_auth.enabled_providers,function(i){angular.forEach(n,function(n){if(n.id===t.SocialAuthProvider[i.id]){var f=angular.copy(n);f.submissionUri=r.trustAsResourceUrl(i.submission_uri);u.enabledProviders.push(f)}})}),angular.forEach(this.enabledProviders,function(n){n.id===t.SocialAuthProvider[i.social_auth.default_provider]?u.defaultProvider=n:u.nonDefaultEnabledProviders.push(n)}))}return n}();n.loginModule.service("AvailableSocialAuthProviders",["SocialAuthProviders","fixture","$sce",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i){this.isEnabled=t.ui.showSignUpOptions&&angular.isString(n.flow_submission_uris.sign_up)&&n.flow_submission_uris.sign_up.length>0;this.isEnabled&&(this.uri=i.trustAsUrl(n.flow_submission_uris.sign_up))}return n}();n.loginModule.controller("SignUp",["fixture","flavor","$sce",t])})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.polyfillsModule=angular.module("LoginAppNext.Polyfills",[])})(t=n.Polyfills||(n.Polyfills={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(){"use strict";var t="placeholder",i="input";n.polyfillsModule.directive("placeholderFallback",["$document",function(n){var r=!angular.isUndefined(n[0].createElement(i)[t]);return{restrict:"A",scope:!1,link:function(n,t){r&&t.addClass("sr-text")}}}])})(t=n.Placeholder||(n.Placeholder={}))})(t=n.Polyfills||(n.Polyfills={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=250,t="/client-errors",i=function(){function i(t,i,r,u){this.$http=t;this.$window=i;this.$log=r;this.fixture=u;this.previousError=null;this.dupeErrorCount=0;this.reportDupeErrorTimeout=n}return i.prototype.generateClientScriptError=function(n,t,i){var r={name:n,message:t};this.reportClientScriptError(r,i);this.$log.warn("Name: "+n+(angular.isString(t)?", Message: "+t:"")+(angular.isString(i)?", Cause: "+i:""))},i.prototype.reportClientScriptError=function(i,r){var h=this,u={name:angular.isString(i.name)?i.name:"Unknown name",exception:"Cause: "+(angular.isString(r)?r:"Unknown cause"),traceToken:this.fixture.trace_token},e,o,f,s;angular.isString(i.message)&&(u.name+=" - "+i.message);angular.isString(i.stack)&&(u.exception+="; Stack trace: "+i.stack);e=!0;o=new Date;angular.equals(u,this.previousError)?(this.dupeErrorCount++,f=0,angular.isDefined(this.reportedErrorAt)&&(f=o.valueOf()-this.reportedErrorAt.valueOf()),f<this.reportDupeErrorTimeout?e=!1:(s=this.reportDupeErrorTimeout*2,f>s?(this.reportDupeErrorTimeout=n,this.dupeErrorCount=0):this.reportDupeErrorTimeout=s)):this.reportDupeErrorTimeout=n;e&&(this.previousError=angular.copy(u),this.dupeErrorCount>0&&(u.exception+="; Dupe error count: "+this.dupeErrorCount+", Dupe timespan: "+this.reportDupeErrorTimeout+"ms"),this.$http({method:"POST",url:t,data:angular.toJson(u),headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(){h.reportedErrorAt=o;h.dupeErrorCount=0},function(){}))},i}();angular.module("LoginAppNext.ClientErrorService",[]).service("clientErrorService",["$http","$window","$log","fixture",i])})(t=n.ClientErrorService||(n.ClientErrorService={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n,t;(function(n){n[n.login=0]="login";n[n.invite=1]="invite";n[n.ariadnext_aes=2]="ariadnext_aes";n[n.ariadnext_qes=3]="ariadnext_qes"})(n||(n={}));t=function(){function t(n,t,i,r){this.queryString=n;this.fixture=i;this.challengeService=r;this.alternateTitleLookup={};this.initializeAlternateTitles(t);this.updateTextFlavor()}return t.prototype.getTitle=function(t){var r=n[this.name],i,u;return angular.isDefined(this.alternateTitleLookup[r])&&angular.isDefined(this.alternateTitleLookup[r][t.name])?this.alternateTitleLookup[r][t.name]:(i=t.title,angular.isFunction(t.getAlternativeTitle)&&(u=t.getAlternativeTitle(this.fixture,this.challengeService),i=angular.isString(u)?u:i),i)},t.prototype.initializeAlternateTitles=function(t){var i={};i[t.password.name]="Accept account invite";this.alternateTitleLookup[n.invite]=i},t.prototype.updateTextFlavor=function(){var r=n.login,i=this.queryString.getValueFromCurrentLocation(t.textFlavorQueryStringKey);angular.isString(i)&&angular.isDefined(n[i.toLowerCase()])&&(r=n[i.toLowerCase()]);this.name=n[r]},t.textFlavorQueryStringKey="text_flavor",t}();angular.module("LoginAppNext.TextFlavor",[]).service("textFlavor",["queryString","loginSupportedStates","fixture","challenge",t])})(t=n.TextFlavor||(n.TextFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;angular.isObject(t)&&(this.login_uri=t.login_uri,this.submission_uri=t.submission_uri,this.activation_parameters=t.activation_parameters)}return n}();n.signupModule.service("activationStateService",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f){this.$scope=n;this.activationStateService=t;this.$translate=i;this.gdprMessages=r;this.countryCodes=u;this.$sce=f;this.subscribe_checked=!1;this.utils=new GDPRUtils;this.submitted=!1;angular.isDefined(t.activation_parameters)&&(n.email=t.activation_parameters.email,n.forename=t.activation_parameters.forename,n.surname=t.activation_parameters.surname,n.token_id=t.activation_parameters.token_id,n.token_secret=t.activation_parameters.token_secret,n.lang=i.use());this.country_list=u}return n.prototype.displayLocalizedOptIn=function(){var n=this.utils.fullCountryNametoISO2(this.selectedCountry,this.country_list),t=this.utils.getCountryCodeFromLang(n),c=document.getElementById("subscribe"),i=document.getElementById("subscribed");if(n==null){this.localizedText=null;return}this.subscribe_checked=n==="DE"?i.checked=!1:i.checked=!0;this.subscribeText=this.gdprMessages["subscribe_"+t];var r=this.gdprMessages["agreement_"+t],u=this.localizeLink("terms_and_conditions_link_",n),f=this.gdprMessages["terms_and_conditions_"+t],e=r.replace("[[terms]]",this.buildLinkElement(u,f)),o=this.localizeLink("privacy_policy_link_",n),s=this.gdprMessages["privacy_policy_"+t],h=e.replace("[[privacy]]",this.buildLinkElement(o,s));this.localizedText=this.$sce.trustAsHtml(h)},n.prototype.hideOptInCheckbox=function(){return this.selectedCountry==null||this.selectedCountry==="US"?!0:!1},n.prototype.updateSubscribeCheckedAttr=function(n){var t=n.target;this.subscribe_checked=t.checked?!0:!1},n.prototype.disableButtonAndSubmit=function(){this.submitted=!0;var n=document.getElementById("activation");n.submit()},n.prototype.buildLinkElement=function(n,t){var i=this.$translate.instant("Link opens in new window");return'<a class="item" target="_blank" title="'+i+'" href="'+n+'">'+t+"<\/a>"},n.prototype.localizeLink=function(n,t){var i=this.gdprMessages[n+t];return i==null?this.gdprMessages[n+"default"]:i},n.prototype.showGDPRFields=function(){return this.country_list!=null?!0:!1},n}();n.signupModule.controller("Activation",["$scope","activationStateService","$translate","gdprMessages","countryCodes","$sce",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t){var r,i,u;this.linkStart='<a class="link" href="/">';this.linkEnd="<\/a>";r=n[0];i=r.createElement("a");i.href=t.loginUri;this.rawUri=t.loginUri;u=angular.element(i);u.addClass("link");this.linkStart=i.outerHTML.substr(0,i.outerHTML.length-4)}return n}();n.signupModule.controller("LoginLink",["$document","signup",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){this.emailAddress=n.emailAddress}return n}();n.signupModule.controller("SignupCompletion",["signupCompletion",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n){var t=n.state_data;angular.isObject(t)&&(this.emailAddress=t.emailAddress)}return n}();n.signupModule.service("signupCompletion",["fixture",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r,u,f){this.$scope=n;this.signupService=t;this.$translate=i;this.gdprMessages=r;this.countryCodes=u;this.$sce=f;this.subscribe_checked=!1;this.utils=new GDPRUtils;this.submitted=!1;this.country_list=u}return n.prototype.displayLocalizedOptIn=function(){var n=this.utils.fullCountryNametoISO2(this.selectedCountry,this.country_list),t=this.utils.getCountryCodeFromLang(n),c=document.getElementById("subscribe"),i=document.getElementById("subscribed");if(n==null){this.localizedText=null;return}this.subscribe_checked=n==="DE"?i.checked=!1:i.checked=!0;this.subscribeText=this.gdprMessages["subscribe_"+t];var r=this.gdprMessages["agreement_"+t],u=this.localizeLink("terms_and_conditions_link_",n),f=this.gdprMessages["terms_and_conditions_"+t],e=r.replace("[[terms]]",this.buildLinkElement(u,f)),o=this.localizeLink("privacy_policy_link_",n),s=this.gdprMessages["privacy_policy_"+t],h=e.replace("[[privacy]]",this.buildLinkElement(o,s));this.localizedText=this.$sce.trustAsHtml(h)},n.prototype.hideOptInCheckbox=function(){return this.selectedCountry==null||this.selectedCountry==="US"?!0:!1},n.prototype.showGDPRFields=function(){return this.country_list!=null?!0:!1},n.prototype.disableButtonAndSubmit=function(){this.submitted=!0;var n=document.getElementById("signupNew");n.submit()},n.prototype.localizeLink=function(n,t){var i=this.gdprMessages[n+t];return i==null?this.gdprMessages[n+"default"]:i},n.prototype.buildLinkElement=function(n,t){var i=this.$translate.instant("Link opens in new window");return'<a class="item" target="_blank" title="'+i+'" href="'+n+'">'+t+"<\/a>"},n}();n.signupModule.controller("SignupNew",["$scope","signup","$translate","gdprMessages","countryCodes","$sce",t])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function i(n){return{restrict:"A",require:"form",scope:!1,link:function(i,r){var u=n.submissionUri;r.attr("action",u);t(r,n.signUpParameters)}}}function t(n,i,r){r===void 0&&(r="");angular.forEach(i,function(i,u){if(angular.isObject(i))t(n,i,r+u+".");else{var f=document.createElement("input");f.type="hidden";f.name=r+u;angular.isUndefined(i)||i==null||(f.value=i);n.append(f)}})}n.signupModule.directive("signupSubmission",["signup",i])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.signupModule.config(["$stateProvider","signupSupportedStates",function(n,t){n.state(t.root.name,{url:t.root.url,abstract:!0}).state(t.signup.name,{title:"Create your free DocuSign account",url:t.signup.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/basic-user-information.html"}}}).state(t.externallyManaged.name,{title:"Contact Your Company Administrator",url:t.externallyManaged.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/externally-managed.html"}}}).state(t.complete.name,{title:"Confirm Your Email Address",url:t.complete.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/signup-complete.html"}}}).state(t.activation.name,{title:"Activate your account",url:t.activation.url,views:{"auth@authenticate":{templateUrl:"LoginAppNext/signup/activation.html"}}})}])})(t=n.Signup||(n.Signup={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=function(){function n(){this.unknownCountryCode="ZZ";this.defaultCountryCode="US"}return n.prototype.formatPhoneNumber=function(n){if(!this.hasPhoneUtils())return n.CountryCode?n.CountryCode+" "+n.PhoneNumber:n.PhoneNumber;var t=this.utils.getRegionCodeForCountryCode(n.CountryCode);return angular.isString(t)&&t!==this.unknownCountryCode?this.formatNumber(n.PhoneNumber,t):this.formatNumber(n.PhoneNumber,this.defaultCountryCode)},n.prototype.formatNumber=function(n,t){if(this.hasPhoneUtils())try{var i=this.utils.parseAndKeepRawInput(n,t);n=this.utils.format(i,libphonenumber.PhoneNumberFormat.NATIONAL)}catch(r){}return n},n.prototype.hasPhoneUtils=function(){var n=!1;return angular.isObject(this.utils)?n=!0:angular.isObject(window.libphonenumber)&&(this.i18nPhoneService=window.libphonenumber,this.utils=this.i18nPhoneService.PhoneNumberUtil.getInstance(),n=!0),n},n}();angular.module("LoginAppNext.PhoneNumber",[]).service("phoneNumber",[n])})(t=n.PhoneNumber||(n.PhoneNumber={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){n.securityModule=angular.module("LoginAppNext.Security",["LoginAppNext.Fixture"])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;n.securityModule.constant("xsrfToken",{getElement:function(){return angular.isUndefined(t)&&(t=xsrfFormTokenElement,xsrfFormTokenElement=null),angular.element(t)}})})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i){i.append(n.getElement())}}}n.securityModule.directive("antiForgerySecured",["xsrfToken",t])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n,t){return{restrict:"A",require:"form",scope:!1,link:function(i,r){if(angular.isString(n.state)&&r.append('<input type="hidden" name="requestState" value="'+n.state+'" />'),angular.isString(n.submissionUri)){var u=t.trustAsUrl(n.submissionUri);r.attr("action",angular.isString(u)?u:u.toString())}angular.isString(n.name)&&r.append('<input type="hidden" name="challengeAction" value="'+n.name+'" />')}}}n.challengeModule.directive("challengeResponse",["challenge","$sce",t])})(t=n.Challenges||(n.Challenges={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){function t(n){return{restrict:"A",require:"form",scope:!1,link:function(t,i){if(angular.isDefined(n.oauth)){var r=angular.element('<input type="hidden" name="RelayState" />');r.val(angular.toJson(n.oauth,!1));i.append(r)}}}}n.securityModule.directive("oauthFlow",["fixture",t])})(t=n.Security||(n.Security={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t;(function(t){var i=function(){function n(n){this.ids=t.SocialAuthProvider;this.enabled=[];this.nonDefaultEnabled=[];this.enabled=n.enabledProviders;this.nonDefaultEnabled=n.nonDefaultEnabledProviders;this.defaultEnabled=n.defaultProvider}return n}();n.loginModule.controller("SocialAuthProviders",["AvailableSocialAuthProviders",i])})(t=n.External||(n.External={}))})(t=n.Login||(n.Login={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(n){var t=function(){function n(n,t,i,r){this.ui=t.ui;r.isClientLoggingEnabled&&n.$on("$viewContentLoaded",i.recordAngularViewLoad)}return n}();n.flavorModule.controller("UiFlavor",["$scope","flavor","perfLoggingService","fixture",t])})(t=n.UiFlavor||(n.UiFlavor={}))}(LoginAppNext||(LoginAppNext={})),function(n){var t;(function(){var n=angular.module("LoginAppNext.I18nLayer",[]),t=function(){function n(){}return n.prototype.getLocalePolicy=function(n){return typeof dsi18nlayer=="undefined"?null:dsi18nlayer.getLocalePolicy(n)},n.prototype.getLink=function(n,t){if(typeof dsi18nlayer=="undefined")return{term:"https://www.docusign.com/company/terms-and-conditions/web",privacy:"https://www.docusign.com/company/privacy-policy",ip:"https://www.docusign.com/IP"}[n];return dsi18nlayer.getLink(n,t||"en")},n}();n.service("i18nLayer",[t])})(t=n.I18nLayer||(n.I18nLayer={}))}(LoginAppNext||(LoginAppNext={}))